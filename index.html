<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ë‚˜ë¥¼ ì…ëŠ” ë²•: 3D íŒ¨ì…˜ ë¶„ì„ êµ¬ì²´ (Final)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- OrbitControls -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden;
            background-color: #0d1117;
            color: #e5e7eb;
        }
        canvas { display:block; }
        .color-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 12px;
            box-shadow: 0 0 8px rgba(255,255,255,0.5);
        }
        #legend-bar {
            min-width: 600px;
            padding: 2.5rem;
            font-size: 1.25rem;
        }
        #legend-bar .font-medium {
            font-size: 1.125rem;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center h-screen">

    <!-- Information Bar -->
    <div id="info-bar" class="absolute top-4 left-4 z-10 p-4 bg-white/10 backdrop-blur-sm rounded-xl shadow-2xl text-sm md:text-base transition-all duration-300 max-w-xs text-left">
        <p class="text-xs mt-2 text-white font-bold">2021038012-ì–‘ì¸ëª¨[ì „ìê³µí•™ë¶€ ì „ìê³µí•™ ì „ê³µ]</p>
        <h1 class="font-bold text-xl mb-1 text-yellow-300">ë‚˜ë¥¼ ì…ëŠ” ë²•. - ë‚˜ì˜ íŒ¨ì…˜ ì„¸í¬.</h1>
        <p class="text-gray-300 text-sm">ë§ˆìš°ìŠ¤ë¥¼ ë“œë˜ê·¸/ìŠ¤í¬ë¡¤í•˜ì—¬ êµ¬ì²´ë¥¼ ì¡°ì‘í•˜ê³ , ì ì„ í´ë¦­í•˜ì„¸ìš”.</p>
        <p class="text-xs mt-2 text-white font-bold">* ì¤‘ì•™ì˜ ê±°ëŒ€í•œ 'í•µ'ì„ í´ë¦­í•´ë³´ì„¸ìš”.</p>
        
    </div>

    <!-- Legend Bar -->
    <div id="legend-bar" class="absolute bottom-4 right-4 z-10 bg-white/10 backdrop-blur-sm rounded-xl shadow-2xl text-sm max-w-xs transition-all duration-300">
        <h2 class="font-bold text-lg mb-2 text-cyan-300 border-b border-gray-600 pb-1">[ë²”ë¡€] ìƒ‰ìƒ ë³„ ì˜ë¯¸ (Zones)</h2>
        <ul id="legend-list" class="space-y-2 text-gray-200 p-2"></ul>
    </div>

    <!-- Canvas Container -->
    <div id="canvas-container" class="w-full h-full absolute"></div>

    <!-- Content Modal -->
    <div id="content-modal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="bg-gray-800 p-6 rounded-2xl shadow-3xl max-w-lg w-11/12 m-4 border border-gray-700 transform transition-all duration-300 scale-95 opacity-0" id="modal-content-box">
            <div class="flex justify-between items-start mb-4 border-b border-gray-700 pb-3">
                <h2 id="modal-title" class="text-2xl font-extrabold text-yellow-400">ì œëª©</h2>
                <button id="close-modal" class="text-gray-400 hover:text-white transition duration-200 p-1 rounded-full hover:bg-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <p id="modal-region" class="text-sm font-medium mb-3 text-cyan-400"></p>
            <img id="modal-image" class="w-full h-auto rounded-xl object-cover mb-4 border border-gray-600 hidden" alt="Placeholder">
            <p id="modal-text" class="text-gray-200 leading-relaxed whitespace-pre-wrap">ë‚´ìš©</p>
        </div>
    </div>

    <script type="module">
        // ---------------------------
        // ìƒìˆ˜ ë° ì„¤ì •
        // ---------------------------
        const CONFIG = {
            SPHERE_RADIUS: 10,
            MARKER_COUNT_PER_REGION: 4,
            PARTICLE_COUNT: 12,
            MIN_DISTANCE: 3.0,
            MIN_DISTANCE_SQ: 9.0, 
            LABEL_MULT: 1.5 
        };

        const TWO_PI = Math.PI * 2;
        const FIVE_SEG = TWO_PI / 5;

        // ì˜ì—­ ë°ì´í„°
        const regions = [
            { name: "ê°€ì¹˜ì™€ ì² í•™", color: 0xFF5733, hex: '#FF5733', startPhi: 0 * FIVE_SEG, endPhi: 1 * FIVE_SEG },
            { name: "ì„±ê²©", color: 0x33FF57, hex: '#33FF57', startPhi: 1 * FIVE_SEG, endPhi: 2 * FIVE_SEG },
            { name: "ë¬¸ì œì™€ ê³ ë¯¼", color: 0x3357FF, hex: '#3357FF', startPhi: 2 * FIVE_SEG, endPhi: 3 * FIVE_SEG },
            { name: "ë¼ì´í”„ìŠ¤íƒ€ì¼", color: 0xFF33A1, hex: '#FF33A1', startPhi: 3 * FIVE_SEG, endPhi: 4 * FIVE_SEG },
            { name: "ì·¨í–¥", color: 0x33FFF9, hex: '#33FFF9', startPhi: 4 * FIVE_SEG, endPhi: 5 * FIVE_SEG },
            { name: "íŒ¨ì…˜ ë¡¤ëª¨ë¸", color: 0xF9FF33, hex: '#F9FF33', startPhi: 0, endPhi: TWO_PI },
        ];

        // Three.js ë³€ìˆ˜
        let scene, camera, renderer, controls;
        const markers = []; // ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ê°ì²´ë“¤ (ë§ˆì»¤ + í•µ)
        const labelSprites = [];
        const beamMeshes = []; // ë¹” ì• ë‹ˆë©”ì´ì…˜ìš©
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        // ---------------------------
        // ì½˜í…ì¸  ë°ì´í„° ê´€ë¦¬
        // ---------------------------
        function getCustomContent(regionName, index, regionHex) {
            let content = {
                title: `ê°€ë‚˜ë‹¤ë¼ ì œëª© #${index + 1} (${regionName})`,
                text: "ê°€ë‚˜ë‹¤ë¼ ë‚´ìš©ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‚˜ì˜ ì‚¶, ì„±ê²©, ìŠ¤íƒ€ì¼, ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ë¶„ì„í•˜ê³ , í˜„ì¬ ì˜·ì¥ì„ ë˜ëŒì•„ë³´ë©° ì•ìœ¼ë¡œì˜ 'ë‚˜ì˜ ì˜· ì…ê¸° ê³„íš'ì„ ìˆ˜ë¦½í•˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ì±„ì›Œì£¼ì„¸ìš”.",
                image: `https://placehold.co/400x200/${regionHex.substring(1)}/FFFFFF?text=${regionName}`
            };
            // (ê¸°ì¡´ ë°ì´í„° ìœ ì§€)
             if (regionName === "ê°€ì¹˜ì™€ ì² í•™") {
                if (index === 0) {
                    content.title = "ë‚´êµ¬ì„±";
                    content.text = "í•œ ë²ˆ êµ¬ë§¤í•˜ê³ ë‚˜ì„œ ì˜¤ëœ ê¸°ê°„ ì°©ìš©í•  ìˆ˜ ìˆëŠ” ìƒí’ˆì„ ì„ í˜¸í•©ë‹ˆë‹¤. \nì´ëŠ” ê¸ˆì „ì ì¸ ì ˆì•½ê³¼, í™˜ê²½ì— ëª¨ë‘ ê¸ì •ì ì¸ ì˜í–¥ì„ ì£¼ê³ , ì¶”ì–µì„ í˜•ì„±í•˜ëŠ”ë°ë„ ë„ì›€ëœë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nì‹¤ì œë¡œ í•œë•Œ ë‚´êµ¬ì„± ì¢‹ì€ ì‹ ë°œ ë¸Œëœë“œë¥¼ ì°¾ì•„ ë‹¤ì–‘í•œ ë¸Œëœë“œì˜ ì‹ ë°œì„ êµ¬ë§¤í–ˆì—ˆëŠ”ë°, 'ì˜¤ë‹ˆì¸ ì¹´ íƒ€ì´ê±°' ì‹ ë°œì˜ ì œí’ˆì„ 2018ë…„ì— êµ¬ë§¤í•˜ì—¬ 7ë…„ì§¸ ë§ê°€ì§ ì—†ì´ ì°©ìš©ì¤‘ìœ¼ë¡œ ì—„ì²­ë‚œ ë§Œì¡±ê°ì„ ëŠë¼ê³  ìˆìŠµë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251125_120355883.jpg";
                } else if (index === 1) {
                    content.title = "ì¶”ì–µ";
                    content.text = "ë‚˜ ìì‹ , ë˜ëŠ” íƒ€ì¸ê³¼ì˜ ì¶”ì–µì´ ë‹´ê²¨ìˆëŠ” ì˜·ì„ ì…ê³ ë‹¤ë‹ˆê±°ë‚˜ ëª¨ìœ¼ê³  ì„ ë¬¼í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.\nì‚¬ì§„ì´ë‚˜ ë‹¤ë¥¸ ìë£Œë“¤ê³¼ëŠ” ë‹¬ë¦¬ ì§ì ‘ ì°©ìš©í•¨ìœ¼ë¡œì¨ ê·¸ë•Œ ê·¸ ì‹œì ˆì˜ ë‚˜ ìì‹ ì´ ëœê±°ê°™ì€ ê¸°ë¶„ì„ ëŠë¼ê¸° ë•Œë¬¸ì— ì—„ì²­ë‚œ ê°€ì¹˜ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì‹¤ì œë¡œ 23ë…„ ê²¨ìš¸, ëŸ°ë˜ ì—¬í–‰ì¤‘ ìš°ì—°íˆ ì†í¥ë¯¼ ì„ ìˆ˜ë¥¼ ë§Œë‚˜ ì…ê³ ìˆë˜ íŒ¨ë”©ì— ì‚¬ì¸ì„ ë°›ì€ ì ì´ ìˆëŠ”ë° ì´ ì˜·ì„ ì•„ì§ê¹Œì§€ë„ ì…ê³ ë‹¤ë‹ˆë©° ê·¸ë•Œì˜ ë‚˜ë¡œ ëŒì•„ê°€ê³¤ í•©ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_214115604_01.jpg";
                } else if (index === 2) {
                    content.title = "í•©ë¦¬ì ì¸ ê°€ê²©";
                    content.text = "ì €ë ´í•´ì„œ ì¢‹ê³ , ë¹„ì‹¸ì„œ ì•ˆì¢‹ê³ ê°€ ì•„ë‹Œ 'ìƒí’ˆì´ ì œ ê°’ì„ í•˜ëŠ”ì§€'ì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤. \nê°€ë ¹ í•™ìƒì—ê²ŒëŠ” ë¹„ì‹¼ 100ë§Œì›ì´ ë„˜ëŠ” ì˜·ë„ ë‚˜ ìì‹ ì—ê²Œ ê·¸ ì •ë„ ê°’ì„ í•œë‹¤ê³  ìƒê°í•˜ë©´ í›Œë¥­í•œ ì˜·ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì‹¤ì œë¡œ êµ° ë³µë¬´ë¥¼ ë§ˆì¹˜ê³  ì €ì¶•í•´ë‘” ì›”ê¸‰ìœ¼ë¡œ ë°±í™”ì ì—ì„œ ë²„ë²„ë¦¬ ì…”ì¸ ë¥¼ êµ¬ë§¤í•œ ì ì´ ìˆëŠ”ë°, ë‹¹ì—°íˆ í•™ìƒ ì‹ ë¶„ì—ì„  ê°€ê²©ëŒ€ê°€ ë†’ì€ ì œí’ˆì´ê³  ë‚¨ë“¤ì´ ì¢‹ì§€ ì•Šê²Œ ë³¼ ìˆ˜ ìˆì§€ë§Œ ë‚˜ ìì‹ ì„ í‘œí˜„í•˜ëŠ”ë°ì— í•©ë¦¬ì ì¸ ê°€ê²©ì´ë¼ê³  ìƒê°ì´ ë“¤ì—ˆê¸°ì— ì „í˜€ í›„íšŒí•˜ì§€ ì•Šê³  ì§€ê¸ˆê¹Œì§€ë„ ë§Œì¡±ê°ì„ ëŠë‚ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_130913835_01.jpg";
                } else if (index === 3) {
                    content.title = "ì§„ì •ì„±";
                    content.text = "ìœ í–‰ì´ë‚˜ SNSë¥¼ í†µí•´ ì¶©ë™ì ìœ¼ë¡œ êµ¬ë§¤í•˜ëŠ”ê²ƒì´ ì•„ë‹Œ ë‚˜ ìì‹ ì—ê²Œ ì •ë§ë¡œ í•„ìš”í•œ ê²ƒì¸ì§€ ì˜·ì„ êµ¬ë§¤í• ë•Œë§ˆë‹¤ ìì£¼ ì¥ê³ ë¥¼ í•©ë‹ˆë‹¤.\níŠ¹íˆ ìš”ì¦˜ì—ëŠ” ì‡¼ì¸ ë¼ëŠ” ìƒˆë¡œìš´ ë§¤ì²´ì˜ ìê·¹ì ì¸ ê´‘ê³ ë“¤ì— ë…¸ì¶œë˜ì–´ ì†Œë¹„ ìŠµê´€ì— ì•…ì˜í–¥ì„ ë°›ê¸° ì‰½ê¸°ë•Œë¬¸ì— ë”ìš± ê²½ê³„í•˜ê³  ê³ ë¯¼í•œ í›„ì— ìƒí’ˆì„ êµ¬ë§¤í•´ì•¼í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì´ëŠ” ì²´ê³„ì ì´ê³  í•©ë¦¬ì ì¸ê²ƒì„ ì¢‹ì•„í•˜ëŠ” ì„±ê²©ì´ ì˜·ì— ëŒ€í•œ ê°€ì¹˜ì™€ ì² í•™ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ê³ , ê²°êµ­ ì†Œë¹„ ë°©ì‹ê¹Œì§€ í™•ì¥ëœ ë‚˜ë§Œì˜ ê°€ì¹˜ì…ë‹ˆë‹¤.";
                    content.image = "";
                }
            }
            else if (regionName === "ì„±ê²©") {
                if (index === 0) {
                    content.title = "ë‚¨ë“¤ì˜ ì‹œì„ ì€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.";
                    content.text = "ì´ëŸ¬í•œ ì„±ê²©ì€ ì–´ë¦´ ë•Œ ìì‹ ê°ì´ ì—†ëŠ” ì„±ê²©ì´ì—ˆì§€ë§Œ, ì´ëŸ° ì €ëŸ° ê²½í—˜ë“¤ì„ ë§ì´ í•´ë³´ë‹ˆ ìì‹ ê°ì´ ì‚¶ì—ìˆì–´ì„œ êµ‰ì¥íˆ ì¤‘ìš”í•œ ìš”ì†Œë¼ëŠ”ê²ƒì„ ì•Œê²Œëœ í›„ ìì‹ ê°ì„ ê°€ì§€ê³  ì‚´ì•„ê°€ìëŠ” ë§ˆìŒê°€ì§ìœ¼ë¡œë¶€í„° ë¹„ë¡¯ë˜ì—ˆìŠµë‹ˆë‹¤. \në•Œë¬¸ì— TPOê°€ ì¤‘ìš”í•˜ê²Œ ìš”êµ¬ë˜ì§€ ì•ŠëŠ” í•œ ë‚¨ë“¤ì˜ ì‹œì„ ì´ë‚˜ ìœ í–‰ì„ ì‹ ê²½ì“°ì§€ì•Šê³ , ì›í•˜ëŠ” ì˜·ì„ ì…ëŠ” ê²ƒì— ì¦ê±°ì›€ê³¼ ë§Œì¡±ê°ì„ ëŠë‚ë‹ˆë‹¤.\nì˜·ì´ ì˜¤ì—¼ë˜ê±°ë‚˜ ì†ìƒë˜ì–´ë„ ì¼ìƒìƒí™œì— ë§‰ëŒ€í•œ ë¬¸ì œê°€ ì—†ë‹¤ë©´ ë²„ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. \nì´ëŸ¬í•œ ì„±ê²©ì´ ê³„ì† ìœ ì§€ë˜ì–´ì„œ ìš”ì¦˜ì€ ì˜¤íˆë ¤ ìœ í–‰ì—ì„œ ë²—ì–´ë‚œ ì˜·ì„ ì…ê³ ì í•˜ë ¤ëŠ” ê°•ë°•ë„ ê°€ë” ëŠê»´ì§€ê³¤ í•©ë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 1) {
                    content.title = "ISTJ";
                    content.text = "ë‚´í–¥ì ì¸ ë©´ì´ ê°•í•´ ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ìŠ¤íƒ€ì¼ì˜ ì˜·ì„ ì„ í˜¸í•˜ë©°, íƒ€ì¸ê³¼ ê°™ì´ ì˜·ì„ ì‚¬ëŠ”ê²ƒë³´ë‹¤ ìŠ¤ìŠ¤ë¡œ ì˜·ì„ êµ¬ë§¤í•˜ëŠ” í¸ì…ë‹ˆë‹¤. \në˜í•œ ì²´ê³„ì ì¸ ë©´ ë•Œë¬¸ì— ì˜· í•œë²Œì„ ì‚´ë•Œë„ ê°€ê²©ì´ë‚˜ ì‹¤ìš©ì„± ë“± ë§ì€ ì¸¡ë©´ì—ì„œ ê³ ë¯¼í•˜ê¸°ì— ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•©ë‹ˆë‹¤.\nì‚¬ì‹¤ ì˜·ì„ ì‚´ ë•Œ ì‹œê°„ì„ ë§ì´ ë“¤ì´ëŠ”ê²ƒì´ ë¹„íš¨ìœ¨ì ì´ë‹¤ë¼ê³  ìƒê°í•˜ê¸°ë•Œë¬¸ì—, í•˜ë£¨ë¹¨ë¦¬ ë‚˜ ìì‹ ë§Œì˜ ìŠ¤íƒ€ì¼ì„ êµ¬ì²´ì ìœ¼ë¡œ í™•ë¦½í•˜ì—¬ ì‡¼í•‘ ì‹œê°„ì„ ë‹¨ì¶•í•˜ëŠ”ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.\nì‹¤ì œë¡œ íŒŒë¦¬ì— ê°”ì„ ë•Œ, ì¶•êµ¬ ìœ ë‹ˆí¼ì„ ê³ ë¥´ëŠ”ë°ë§Œ 2ì‹œê°„ì´ ë„˜ê²Œ ê±¸ë ¸ë˜ ì ì´ ìˆëŠ”ë° ë‹¹ì‹œì—ëŠ” ì¦ê±°ì› ì§€ë§Œ ëŒì´ì¼œë³´ë‹ˆ ë” ì¬ë°ŒëŠ” êµ¬ê²½ê±°ë¦¬ë¥¼ ë³´ì§€ ëª»í•œê²ƒì´ í›„íšŒë˜ê³¤ í•©ë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 2) {
                    content.title = "ë³´ìˆ˜ì ì¸ ì„±ê²©";
                    content.text = "íŒ¨ì…˜ì— ìˆì–´ì„œ ìƒˆë¡œìš´ ë„ì „ì„ í•˜ëŠ” ê²ƒì„ ì‰½ê²Œ ìƒê°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ì™€ì´ë“œ íŒ¬ì¸ ê°€ ìœ í–‰í•  ë•Œ ì˜¤ëœ ê¸°ê°„ êµ¬ë§¤ë¥¼ ë§ì„¤ì´ê³  ìŠ¬ë¦¼í• íŒ¬ì¸ ë¥¼ ê³ ì§‘í–ˆìŠµë‹ˆë‹¤.\nì´ëŠ” ì–´ë¦´ë•Œë¶€í„° ë‹¤ì–‘í•œ ì˜·ì„ ì…ê¸°ë³´ë‹¤ëŠ” ì…ë˜ê²ƒë§Œ ì…ê±°ë‚˜, ì•„ì§ê¹Œì§€ ë‚˜ ìì‹ ì„ ê¾¸ë¯¸ê³  ê°€ê¾¸ëŠ” ê²ƒì— ëŒ€í•œ ì¤‘ìš”ì„±ì„ í™•ì‹¤í•˜ê²Œ ëŠë¼ì§€ ëª»í•´ì„œë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nì•ìœ¼ë¡œëŠ” ë‹¤ì–‘í•œ ê²½í—˜ì„ í•˜ê³  ì—¬ëŸ¬ í™˜ê²½ì†ì— ì†í•´ë³´ë©´ì„œ íŒ¨ì…˜ì— ìˆì–´ ìƒˆë¡œìš´ ë„ì „ì„ êº¼ë¦¬ì§€ ì•ŠëŠ” ì‚¬ëŒì´ ë˜ê³ ì‹¶ìŠµë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 3) {
                    content.title = "ì§‘ìš”í•¨";
                    content.text = "ì§‘ìš”í•œ ë©´ì´ ìˆì–´ íŠ¹ì • ìƒí’ˆì— ë¹ ì§€ë©´ ê·¸ ìƒí’ˆì˜ ë¸Œëœë“œë‚˜ ê·¸ ìƒí’ˆë§Œì„ ê³ ìˆ˜í•˜ê³¤ í•©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ì„±ê²©ì€ ì†Œë¹„ìŠµê´€ì—ë„ í° ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\ní•œ ë•Œ, êµ¬í•˜ê¸° í˜ë“  ì„ ê¸€ë¼ìŠ¤ë¥¼ êµ¬ë§¤í•˜ê³ ì ì—„ì²­ë‚œ ì‹œê°„ì„ ë“¤ì˜€ì§€ë§Œ ê²°êµ­ êµ¬ë§¤í•˜ì§€ ëª»í•˜ì˜€ê³ , ë¹„ìŠ·í•œ ì œí’ˆì„ êµ¬ë§¤í–ˆë˜ ì ì´ ìˆìŠµë‹ˆë‹¤.\nì´ëŠ” í‰ì†Œ ì£¼ì–´ì§„ ì¼ì— ì±…ì„ì„ ë‹¤ í•˜ë ¤ëŠ” ì§‘ìš”í•¨ì´ íŒ¨ì…˜ ì œí’ˆì„ êµ¬ë§¤í•˜ëŠ”ë°ì—ë„ ì˜í–¥ì„ ë¯¸ì³¤ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì´ë²ˆ ê³¼ì œë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ì–´ë–»ê²Œ ë³´ë©´ ì´ëŸ¬í•œ ì§‘ìš”í•¨ì´ ì‹œê°„ë‚­ë¹„ë¥¼ ìœ ë°œí•  ìˆ˜ë„ ìˆë‹¤ê³  ìƒê°í•˜ì˜€ê³ , ê°€ë”ì€ ê¼­ ê°–ê³ ì‹¶ì€ê²ƒë§Œì´ ì•„ë‹Œ ë‹¤ì–‘í•œ ì„ íƒì˜ í­ì—ì„œ ìƒí’ˆì„ ê³ ë¥´ëŠ” ìŠµê´€ë„ ì¢‹ì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.";
                    content.image = "";
                }
            }
            else if (regionName === "ë¬¸ì œì™€ ê³ ë¯¼") {
                if (index === 0) {
                    content.title = "ì¶”ìœ„ë¥¼ ë§ì´ íƒ„ë‹¤. ğŸ¥¶";
                    content.text = "ë³´í†µ ì‚¬ëŒë“¤ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ì¶”ìœ„ë¥¼ ë§ì´ íƒ€ê¸°ë•Œë¬¸ì— ì—¬ë¦„ ì˜·ë³´ë‹¤ ê²¨ìš¸ ì˜·ì´ í›¨ì”¬ ë§ì•„ ì˜·ì¥ì˜ ë¶€í”¼ë¥¼ ì‰½ê²Œ ì°¨ì§€í•˜ë©°, ì™¸ì¶œ ì‹œ ê²‰ì˜·ì„ ê°€ì§€ê³  ë‹¤ë‹ˆëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•©ë‹ˆë‹¤. \në˜í•œ ì–‡ì€ ì˜·ì„ ë§ì´ ì…ê±°ë‚˜ ë‘êº¼ìš´ ì˜·ì„ ì…ì–´ ì¶”ìœ„ë¥¼ ë§‰ê¸°ë•Œë¬¸ì— í‰ìƒì‹œë³´ë‹¤ ëš±ëš±í•´ë³´ì´ê±°ë‚˜ ë‘”í•´ë³´ì´ëŠ” ê²½ìš°ê°€ ìì£¼ ë°œìƒí•˜ì—¬ ë¯¸í•™ê³¼ ì‹¤ìš©ì  ì¸¡ë©´ ì‚¬ì´ì—ì„œ ê· í˜•ì ì„ ì°¾ëŠ”ê²ƒì´ í•­ìƒ ê³ ë¯¼ê±°ë¦¬ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\në˜í•œ ì˜ˆì „ê³¼ëŠ” ë‹¬ë¦¬ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ ê²¨ìš¸ ë‚ ì”¨ë¡œ ì¸í•´ ì˜¨ë„ì— ë§ëŠ” ë°©í•œ ì˜ë¥˜ë¥¼ ì‰½ê²Œ êº¼ë‚´ ì…ì„ ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•˜ëŠ”ê²ƒë„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 1) {
                    content.title = "ì—„ì²­ë‚œ ì„¸ê¸°ì˜ ì§ëª¨.";
                    content.text = "ìƒëŒ€ì ìœ¼ë¡œ ê°•í•œ ì„¸ê¸°ì˜ ì§ëª¨ ë‘ë°œë¡œ ì¸í•´ ë‹¤ìš´íŒì´ ì¼ì£¼ì¼ë„ ì±„ ë˜ì§€ ì•Šì•„ í’€ë ¤ë²„ë¦¬ê±°ë‚˜, ì‹œìˆ  ìì²´ì˜ ë§Œì¡±ë„ê°€ ë‚®ì€ ê²½ìš°ê°€ ë§ì•˜ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ì—¬ëŸ¬ ë¯¸ìš©ì‹¤ì„ ì „ì „í•˜ë©° ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì„ ì‹œë„í•œ ëì—, í˜„ì¬ëŠ” ì§ëª¨ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê°ì¶”ê³  ì˜ ì–´ìš¸ë¦¬ëŠ” ì„€ë„ìš° íŒì— ì •ì°©í–ˆìŠµë‹ˆë‹¤. \në‹¤ë§Œ, ì„€ë„ìš° íŒ ì—­ì‹œ ìœ ì§€ ê¸°ê°„ì´ ì§§ë‹¤ëŠ” ê·¼ë³¸ì ì¸ í•œê³„ë¥¼ í”¼í•  ìˆ˜ ì—†ê¸°ì— ê°•í•œ ì§ëª¨ì— ì í•©í•˜ë©´ì„œë„ ì§€ì†ë ¥ì´ ë” ê¸´ ë‹¤ë¥¸ í—¤ì–´ìŠ¤íƒ€ì¼ì„ ì°¾ì•„ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 2) {
                    content.title = "ì‘ì€ ì²´í˜•";
                    content.text = "172cmì˜ ì‹ ì¥ìœ¼ë¡œ í‰ê·  ëŒ€ë¹„ ì‘ì€ ì²´í˜•ì„ ì§€ë‹ˆê³  ìˆì–´ì„œ ë‚¨ë“¤ì˜ ì‹œì„ ì„ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë“¤, ì˜·ì„ êµ¬ë§¤í•  ë•Œ ë¹„ìœ¨ì´ë‚˜ í•ì— ëŒ€í•œ ë¶€ë¶„ì„ ë¬´ì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì´ ìš”ì†ŒëŠ” ë‚˜ë§Œì˜ ìŠ¤íƒ€ì¼ì„ í™•ë¦½í•˜ëŠ”ë°ì— ìˆì–´ ì£¼ê´€ì  ê°€ì¹˜ê´€ê³¼ ê°ê´€ì ì¸ ì‹ ì²´ ì¡°ê±´ ì‚¬ì´ì˜ ê· í˜•ì ì„ ì°¾ìŒìœ¼ë¡œì„œ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê°€ì¥ ê¹Šì€ ê³ ë¯¼ í¬ì¸íŠ¸ ì…ë‹ˆë‹¤.\nì´ ê³ ë¯¼ì„ í•´ê²°í•˜ëŠ”ë° ìˆì–´ ìœ„í•´ ì‘ì€ ì‹ ì¥ì—ë„ ë¶ˆêµ¬í•˜ê³  ìì‹ ì—ê²Œ ì˜ ì–´ìš¸ë¦¬ëŠ” ìŠ¤íƒ€ì¼ì„ í†µí•´ ëŒ€ì¤‘ì—ê²Œ ê¸ì •ì ì¸ í‰ê°€ë¥¼ ë°›ëŠ” ì—°ì˜ˆì¸ë“¤ì´ë‚˜ ì¸í”Œë£¨ì–¸ì„œë“¤ì˜ ìŠ¤íƒ€ì¼ë“¤ì„ ì°¸ê³ í•˜ëŠ” ê²ƒì´ ë„ì›€ ë  ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ";
                    content.image = "";
                } else if (index === 3) {
                    content.title = "ìˆ˜ë§ì€ ì•…ì„¸ì„œë¦¬, í•˜ì§€ë§Œ í™œìš©ì€...";
                    content.text = "ì‹œê³„, í‚¤ë§, ì„ ê¸€ë¼ìŠ¤ì™€ ê°™ì€ ì•…ì„¸ì„œë¦¬ë¥¼ ì„ ë¬¼ë°›ì•˜ë˜ ê²½ìš°ê°€ ë§ì•„ ë‹¤ì–‘í•˜ê²Œ ê°€ì§€ê³  ìˆì§€ë§Œ, ì•…ì„¸ì‚¬ë¦¬ë¥¼ ì°©ìš©í•´ë³¸ ê²½í—˜ì´ ë¶€ì¡±í•˜ì—¬ ì•…ì„¸ì‚¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ë‚˜ ìì‹ ì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆìŠµë‹ˆë‹¤.\nì•…ì„¸ì‚¬ë¦¬ëŠ” ì¡°ê¸ˆë§Œ ë¯¸ìŠ¤ë§¤ì¹˜í•´ë„ ê³¼í•˜ë‹¤ëŠ” ëŠë‚Œì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì•…ì„¸ì‚¬ë¦¬ë¥¼ ì°©ìš©í•˜ëŠ”ê²ƒì— ìˆì–´ì„œ ë§Œí¼ì€ íŒ¨ì…˜ ë¦¬ë”ë“¤ì˜ ì‚¬ë¡€ë¥¼ ì°¸ê³ í•  ê³„íšì…ë‹ˆë‹¤.";
                    content.image = "";
                }
            }
            else if (regionName === "ë¼ì´í”„ìŠ¤íƒ€ì¼") {
                if (index === 0) {
                    content.title = "ì¶•êµ¬ ëŸ¬ë²„ âš½";
                    content.text = "ì¡°ê¸° ì¶•êµ¬ íŒ€ íšŒì›ìœ¼ë¡œ í™œë™í•  ì •ë„ë¡œ ì¶•êµ¬ë¥¼ ì¢‹ì•„í•˜ëŠ”ë§Œí¼ íŒ€ ìœ ë‹ˆí¼ì„ ë¹„ë¡¯í•œ ì¶•êµ¬ ê´€ë ¨ ì˜ë¥˜ë“¤ì´ ë§ê³ , ê²½ê¸°ë¥¼ í•˜ê±°ë‚˜ ë³´ëŸ¬ê°ˆ ë•Œ ì°©ìš©í•©ë‹ˆë‹¤.\ní•œ ë•ŒëŠ” ì„œí¬íŠ¸ í•˜ëŠ” íŒ€ì´ë‚˜ ì„ ìˆ˜ì˜ ìœ ë‹ˆí¼ì„ ì‹œì¦Œë³„ë¡œ ìˆ˜ì§‘ í–ˆì„ì •ë„ë¡œ ì½œë ‰íŒ…ì—ë„ ê´€ì‹¬ì´ ë§ì•˜ì§€ë§Œ ìœ ë‹ˆí¼ ê°€ê²©ì— ëŒ€í•œ ì¸í”Œë ˆì´ì…˜ìœ¼ë¡œ í˜„ì‹¤ì ì¸ ê²½ì œì  ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì¤‘ë‹¨í•œ ìƒíƒœì…ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_123734486.jpg";
                } else if (index === 1) {
                    content.title = "ì „ìê³µí•™ë„ âš¡";
                    content.text = "ì „ê³µ íŠ¹ì„±ìƒ ì˜¤ë˜ ì•‰ì•„ìˆëŠ” ê²½ìš°ê°€ ë§ì•„ ì‹ ì¶•ì„±ì´ ì¢‹ê³ , í¸í•œ ì°©ìš©ê°ì˜ í•˜ì˜ì™€ ì‹ ë°œì„ ì„ í˜¸í•©ë‹ˆë‹¤.\nì‹¤ì œë¡œ í•œë‹¬ ë™ì•ˆ ì²­ë°”ì§€ë‚˜ ë©´ë°”ì§€ë¥¼ ì…ëŠ” íšŸìˆ˜ëŠ” ì†ì— ê¼½ì„ ì •ë„ë¡œ ì ìŠµë‹ˆë‹¤.\në˜í•œ ìš´ë™í™” ëŒ€ì‹  ë°œì´ í¸í•œ ìŠ¬ë¦¬í¼ë‚˜ í¬ë¡œìŠ¤ ì œí’ˆì„ ì• ìš©í•©ë‹ˆë‹¤.\nì´ëŠ” ë‹¤ë¥¸ ë¶ˆí¸í•œ ìš”ì†Œì— ì‹ ê²½ì„ ì“°ì§€ ì•Šê³  ì£¼ì–´ì§„ ê³¼ì—…ì„ ìµœëŒ€í•œ ë¹¨ë¦¬ ëë‚´ë ¤ê³ í•˜ëŠ” ë§ˆìŒê°€ì§ì—ì„œ ë¹„ë¡¯ë˜ì—ˆìŠµë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_215217318.jpg";
                } else if (index === 2) {
                    content.title = "ë°ì´íŠ¸ ğŸ˜½";
                    content.text = "í•œë‹¬ì— 3~4íšŒ ì •ë„ ì—¬ìì¹œêµ¬ì™€ ë°ì´íŠ¸ë¥¼ í•˜ëŠ”ë°, í¸í•œ ì˜· ë³´ë‹¤ëŠ” ì¥ì†Œë‚˜ ìƒí™©ì— ì í•©í•œ ì˜·ì„ ì°©ìš©í•˜ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤.\në˜í•œ ì´ë•Œ ë§Œí¼ì€ ë‚´ê°€ ì›í•˜ëŠ” ì˜·ì„ ì…ëŠ”ê²ƒì´ ì•„ë‹Œ, ì—¬ìì¹œêµ¬ë„ ë§Œì¡±í•  ìˆ˜ ìˆëŠ” ì˜·ì„ ì°©ìš©í•˜ëŠ” ìœµí†µì„±ì„ ë°œíœ˜í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì´ ë•Œë¬¸ì¸ì§€ ë°ì´íŠ¸ í•˜ëŠ” ìˆœê°„ ë§Œí¼ì€ ìƒˆë¡œìš´ íŒ¨ì…˜ì— ëˆˆì„ ëœ¨ê²Œ ëœ ìƒˆë¡œìš´ ë‚˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_214708207.jpg";
                } else if (index === 3) {
                    content.title = "ì—„ì²­ë‚œ ì•„ì¹¨ì ì˜ ì†Œìœ ì. ğŸ¥±";
                    content.text = "ì•„ì¹¨ì ì´ ìƒëŒ€ì ìœ¼ë¡œ ë§ì€ í¸ì´ê¸° ë•Œë¬¸ì— ì…ê³ ë‚˜ê°ˆ ì˜·ì„ ê³ ë¥¼ ì‹œê°„ì´ í•­ìƒ ë¶€ì¡±í•˜ê¸°ë•Œë¬¸ì— ì „ë‚  ë°¤ì— ë‹¤ìŒë‚  ì…ê³ ë‚˜ê°ˆ ì˜·ì„ ì¤€ë¹„í•´ë‘ê±°ë‚˜, ê³ ë¯¼ ì—†ì´ ë¹ ë¥´ê²Œ ì…ì„ ìˆ˜ ìˆëŠ” ë¬´ë‚œí•œ ì˜·ì„ ì„ í˜¸í•©ë‹ˆë‹¤.(ex:íŠ¸ë ˆì´ë‹ ì…‹, ë§¨íˆ¬ë§¨ ë“±)";
                    content.image = "";
                }
            }
            else if (regionName === "ì·¨í–¥") {
                if (index === 0) {
                    content.title = "ë””ìì¸: ê·¹ê³¼ ê·¹";
                    content.text = "ì˜·ì„ ê³ ë¥´ëŠ”ë° ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì œì™¸í•˜ê³  ì˜¤ë¡œì§€ ë””ìì¸ìœ¼ë¡œë§Œ ë´¤ì„ ë•Œ, ì•„ì˜ˆ í™• íŠ€ê±°ë‚˜ ì•„ì˜ˆ ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ë””ìì¸ì˜ ì˜·ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\nì´ëŠ” í‰ìƒì‹œì— ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ì˜·ì„ ì…ëŠ” ê²½ìš°ê°€ ì••ë„ì ìœ¼ë¡œ ë§ê¸° ë•Œë¬¸ì— ìì£¼ ì ‘í•˜ì§€ ëª»í–ˆë˜ í™”ë ¤í•œ ë””ìì¸ì— ëŒ€í•œ ìš•êµ¬ê°€ ìƒê¸°ëŠ” ê²ƒì—ì„œ ë¹„ë¡¯ë˜ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 1) {
                    content.title = "ìµœì•  ìºë¦­í„°: í¬ì¼“ëª¬ìŠ¤í„°";
                    content.text = "ì˜·ì— ìˆì–´ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê°€ì¹˜ ì¤‘ í•˜ë‚˜ì¸ ì¶”ì–µì„ ìê·¹í•˜ëŠ” í¬ì¼“ëª¬ìŠ¤í„°ê°€ ë””ìì¸ëœ ì˜·ì„ ì…ìœ¼ë©´ ë§ˆì¹˜ ì–´ë¦° ì‹œì ˆë¡œ ëŒì•„ê°„ë“¯í•œ ëŠë‚Œì„ ë°›ëŠ”ê²ƒ ê°™ì•„ í¬ì¼“ëª¬ìŠ¤í„°ê°€ ê·¸ë ¤ì§„ ì˜·ì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì…ê³¤ í•©ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_130913835_03.jpg";
                } else if (index === 2) {
                    content.title = "ìƒ‰ìƒ: ì–´ë‘ìš´ í†¤";
                    content.text = "ì–´ë‘ìš´ í†¤ì„ ì…ì—ˆì„ ë•Œ ë‚˜ë„ ëª¨ë¥´ê²Œ ì°¨ë¶„í•´ì§€ëŠ” ê²ƒ ê°™ê³ , ë•ë¶„ì— ì§‘ì¤‘ë ¥ì´ í–¥ìƒë˜ëŠ” íš¨ê³¼ê¹Œì§€ ì–»ì„ ìˆ˜ ìˆì–´ ì˜·ì˜ ìƒ‰ìƒì„ í†µí•´ ì‹¤ì œ ì‚¶ì—ì„œì˜ ëŠ¥ë ¥ì— ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹œë‹¤ê³  ìƒê°í•˜ì—¬ ì–´ë‘ìš´ í†¤ì˜ ì˜·ì„ ì„ í˜¸í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në•Œë¬¸ì— ê°•ì˜ë‚˜ ì—°êµ¬ì‹¤ì— ê°€ê±°ë‚˜ ì‹œí—˜ì„ ë³¼ ë•Œ, í•­ìƒ ì–´ë‘ìš´ í†¤ì˜ ì˜·ì„ ì°©ìš©í•©ë‹ˆë‹¤.";
                    content.image = "";
                } else if (index === 3) {
                    content.title = "ë¸Œëœë“œ: ë²„ë²„ë¦¬";
                    content.text = "ì°¨ë¶„í•´ ë³´ì´ì§€ë§Œ ë²„ë²„ë¦¬ë§Œì˜ ì²´í¬ íŒ¨í„´ìœ¼ë¡œ ë…ì°½ì„± ë˜í•œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì˜·ë“¤ì„ í†µí•´, ë””ìì¸ ì¸¡ë©´ì—ì„œ ì¤‘ìš”í•˜ë‹¤ê³  ì—¬ê¸°ëŠ” ìš”ì†Œì¸ 'ê·¹ê³¼ ê·¹'ì„ ë™ì‹œì— í‘œí˜„í•  ìˆ˜ ìˆê¸°ì— ì í•©í•˜ë‹¤ê³  ìƒê°í•˜ì—¬ ë²„ë²„ë¦¬ë¼ëŠ” ë¸Œëœë“œë¥¼ ì„ í˜¸í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. \në•Œë¬¸ì— ì´ ë¸Œëœë“œì˜ ì˜·ì„ ì…ì„ë•Œë©´ ì§„ì •ìœ¼ë¡œ ë‚˜ ìì‹ ì´ ëœ ê¸°ë¶„ì´ ë“¤ê³¤ í•©ë‹ˆë‹¤.";
                    content.image = "";
                }
            }
            else if (regionName === "íŒ¨ì…˜ ë¡¤ëª¨ë¸") {
                if (index === 0) {
                    content.title = "ì§€ë“œë˜ê³¤";
                    content.text = "(í•œë•Œ 'ê³„ë€ë§ì´ ì´ˆë°¥ ë¨¸ë¦¬'ë¡œ ë¶ˆë¦° ì§€ë“œë˜ê³¤ì˜ ê³¼ê°í•œ í—¤ì–´ìŠ¤íƒ€ì¼.)\në§ì´ í•„ìš” ì—†ëŠ”, ìˆ˜ë§ì€ ë‚¨ì„±ë“¤ì˜ íŒ¨ì…˜ ë¦¬ë”ì¸ ì§€ë“œë˜ê³¤ì€ ë‹¨ìˆœíˆ ìœ í–‰ì„ ë”°ë¥´ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œ ìœ í–‰ì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„ì´ì½˜ì…ë‹ˆë‹¤. \níŠ¹íˆ, ê·¸ëŠ” í—¤ì–´ìŠ¤íƒ€ì¼ ë“± ëª¨ë“  ìŠ¤íƒ€ì¼ì— ìˆì–´ í•­ìƒ ê³¼ê°í•˜ê²Œ ë„ì „í•˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë§ì„¤ì´ëŠ” ì €ì—ê²Œ, ì§€ë“œë˜ê³¤ì€ ì œê²Œ ìš©ê¸°ë¥¼ ì£¼ëŠ” ë¡¤ëª¨ë¸ ì…ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/033bf4a5bc8e4f3ab14c6822c8eec969787badf7/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20152002.png";
                } else if (index === 1) {
                    content.title = "ì¡°ìŠ¹ìš°";
                    content.text = "ë°°ìš° ì¡°ìŠ¹ìš°ëŠ” ê·¸ ëˆ„êµ¬ë³´ë‹¤ë„ ë³¸ì¸ë§Œì˜ ìŠ¤íƒ€ì¼ì´ í™•ê³ í•œ ì‚¬ëŒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì–´ë¦° ì‹œì ˆë¶€í„° ë´ì˜¨ ê·¸ì˜ ìˆ˜ë§ì€ ì‚¬ë³µ ì°¨ë¦¼ê³¼ ì½”ë””ë„¤ì´ì…˜ì„ ë³¼ ë•Œë§ˆë‹¤, 'ë‚˜ì´ì— ë§ë‹¤'ê±°ë‚˜ 'ìƒí™©ì— ì í•©í•˜ë‹¤'ëŠ” ì¼ë°˜ì ì¸ í‰ê°€ë¥¼ ë„˜ì–´ 'ê·¸ëƒ¥ ì¡°ìŠ¹ìš° ê·¸ ìì²´ë‹¤' ë¼ëŠ” ëŠë‚Œì„ ë°›ì•˜ìŠµë‹ˆë‹¤. \nê·¸ëŠ” ìì‹ ì˜ í•ê³¼ ê°œì„±ì— ë§ëŠ” ì˜·ì„ ì •í™•í•˜ê²Œ ì„ íƒí•˜ê³  êµ¬í˜„í•˜ëŠ” íƒì›”í•œ ì•ˆëª©ì„ ì§€ë‹ˆê³  ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ í”ë“¤ë¦¼ ì—†ëŠ” ìŠ¤íƒ€ì¼ í™•ë¦½ì„±ê³¼ ê¹Šì€ ì•ˆëª©ì„ ë°°ìš°ê³  ì‹¶ê¸°ì—, ì¡°ìŠ¹ìš° ë°°ìš°ëŠ” ì €ì˜ í›Œë¥­í•œ ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_190352279.jpg";
                } else if (index === 2) {
                    content.title = "ë„ê²½ìˆ˜";
                    content.text = "(ì¢Œ-ë„ê²½ìˆ˜, ìš°-ì¹´ì´(ê·¸ë£¹ ë‚´ ì¥ì‹  ë©¤ë²„)) \nEXO ë©¤ë²„ ë„ê²½ìˆ˜ëŠ” í° ì‹ ì¥ì€ ì•„ë‹ˆì§€ë§Œ, ì‚¬ë³µ íŒ¨ì…˜ì— ëŒ€í•´ ëŠ˜ ê¸ì •ì ì¸ í‰ê°€ë¥¼ ë°›ëŠ” ìŠ¤íƒ€ì…ë‹ˆë‹¤. íŠ¹íˆ, ì œê°€ ì„ í˜¸í•˜ëŠ” ë‹¨ì •í•˜ê³  ê¹”ë”í•œ ìŠ¤íƒ€ì¼ì˜ ì˜·ì„ ì‘ì€ ì‹ ì¥ì—ë„ ë¶ˆêµ¬í•˜ê³  í›Œë¥­í•˜ê²Œ ì†Œí™”í•´ëƒ…ë‹ˆë‹¤. ê·¸ë£¹ ë‚´ ë‹¤ë¥¸ ì¥ì‹  ë©¤ë²„ë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œë„ ì „í˜€ ê°€ë ¤ì§€ê±°ë‚˜ ë¬»íˆì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì—ì„œ, ì œê²Œ í›Œë¥­í•œ íŒ¨ì…˜ ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤.";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20152641.png";
                } else if (index === 3) {
                    content.title = "í¬ë¦¬ìŠ¤í‹°ì•„ëˆ„ í˜¸ë‚ ë‘";
                    content.text = "ì¶•êµ¬ì„ ìˆ˜ í¬ë¦¬ìŠ¤í‹°ì•„ëˆ„ í˜¸ë‚ ë‘ëŠ” ë•Œë•Œë¡œ 'íŒ¨ì…˜ í…ŒëŸ¬ë¦¬ìŠ¤íŠ¸'ë¡œ ë¶ˆë¦¬ê¸°ë„ í•©ë‹ˆë‹¤. ì´ëŠ” ë¶ˆìš°í–ˆë˜ ì–´ë¦° ì‹œì ˆì˜ ì½¤í”Œë ‰ìŠ¤ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ëª…í’ˆìœ¼ë¡œ ìì‹ ì„ ì¹˜ì¥í•˜ëŠ” ê²ƒì—ì„œ ë¹„ë¡¯ë˜ì—ˆë‹¤ëŠ” ë¶„ì„ì´ ë§ìŠµë‹ˆë‹¤. \nê²€ì†Œí•¨ì„ ê¸ì •ì ìœ¼ë¡œ í‰ê°€í•˜ëŠ” ëŒ€ì¤‘ì˜ ë¹„ë‚œì—ë„ ë¶ˆêµ¬í•˜ê³ , í˜¸ë‚ ë‘ëŠ” ì–¸ì œë‚˜ ìì‹ ë§Œì˜ ì² í•™ê³¼ ë§ˆì¸ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜·ì„ ì…ëŠ” ê°•í•œ ìì‹ ê°ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ìì‹ ê°ê³¼ íƒœë„ ë•Œë¬¸ì— ì œê²Œ íŒ¨ì…˜ì— ëŒ€í•œ ë§ˆìŒê°€ì§, ì¸ìƒì— ìˆì–´ì„œë„ ê°€ë¥´ì¹¨ì„ ì£¼ëŠ” ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤. ";
                    content.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20150200.png";
                }
            }
            return content;
        }

        // ---------------------------
        // ë¼ë²¨ ìƒì„± í•¨ìˆ˜
        // ---------------------------
        function createLabelSprite(text, regionHex) {
            const padding = Math.round(8 * CONFIG.LABEL_MULT);
            const baseFontSize = 28;
            const fontSize = Math.round(baseFontSize * CONFIG.LABEL_MULT);
            const font = `${fontSize}px Inter, Arial`;

            const tmpCanvas = document.createElement('canvas');
            const ctx = tmpCanvas.getContext('2d');

            ctx.font = font;
            const metrics = ctx.measureText(text);
            const textWidth = Math.ceil(metrics.width);
            const textHeight = fontSize;

            tmpCanvas.width = textWidth + padding * 2;
            tmpCanvas.height = textHeight + padding * 2;

            ctx.font = font;
            ctx.textBaseline = 'middle';
            ctx.textAlign = 'left';

            const bg = regionHex ? hexToRgba(regionHex, 0.45) : 'rgba(0,0,0,0.45)';
            roundRect(ctx, 0, 0, tmpCanvas.width, tmpCanvas.height, 8 * CONFIG.LABEL_MULT, bg);

            ctx.fillStyle = '#ffffff';
            ctx.fillText(text, padding, tmpCanvas.height / 2);

            const texture = new THREE.CanvasTexture(tmpCanvas);
            texture.minFilter = THREE.LinearFilter;
            texture.needsUpdate = true;

            const material = new THREE.SpriteMaterial({ map: texture, transparent: true, depthTest: false });
            const sprite = new THREE.Sprite(material);

            const scaleUnits = 0.02 * CONFIG.LABEL_MULT;
            const baseScaleX = tmpCanvas.width * scaleUnits;
            const baseScaleY = tmpCanvas.height * scaleUnits;

            sprite.userData = {
                baseScale: new THREE.Vector2(baseScaleX, baseScaleY)
            };
            sprite.scale.set(baseScaleX, baseScaleY, 1);

            return sprite;
        }

        function roundRect(ctx, x, y, w, h, r, fillStyle) {
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
            ctx.fillStyle = fillStyle;
            ctx.fill();
        }

        function hexToRgba(hex, alpha = 1.0) {
            const c = hex.replace('#','');
            const r = parseInt(c.substring(0,2),16);
            const g = parseInt(c.substring(2,4),16);
            const b = parseInt(c.substring(4,6),16);
            return `rgba(${r},${g},${b},${alpha})`;
        }

        // ----------------------------------------
        // [NEW] ë¹”(Beam) ìƒì„± í•¨ìˆ˜: Cylinder ì‚¬ìš©
        // ----------------------------------------
        // Line ëŒ€ì‹  ë‘ê»˜ê°€ ìˆëŠ” ì‹¤ë¦°ë”ë¥¼ ìƒì„±í•˜ì—¬ í™•ì‹¤í•˜ê²Œ ë³´ì´ê²Œ í•¨
        function createConnectionBeam(vStart, vEnd) {
            const distance = vStart.distanceTo(vEnd);
            // Cylinder: radiusTop, radiusBottom, height, radialSegments
            // ë¹” ë‘ê»˜ 0.08 (ê¸°ì¡´ ì„ ë³´ë‹¤ í›¨ì”¬ ë‘êº¼ì›€)
            const geometry = new THREE.CylinderGeometry(0.08, 0.08, distance, 6);
            
            // ì‹¤ë¦°ë”ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Yì¶• ì •ë ¬ì´ë¯€ë¡œ Zì¶•ìœ¼ë¡œ íšŒì „ì‹œì¼œ lookAtì´ ì‘ë™í•˜ê²Œ í•¨
            geometry.rotateX(Math.PI / 2);

            const material = new THREE.MeshBasicMaterial({ 
                color: 0xffffff, 
                transparent: true, 
                opacity: 0.15, // [FINAL] ë¹” íˆ¬ëª…ë„ 0.15 (ëª¨ë“  ì  ì—°ê²° ì‹œ ë‚œì¡í•¨ ë°©ì§€)
                blending: THREE.AdditiveBlending, // ë¹›ë‚˜ëŠ” íš¨ê³¼ (ê°€ì‚° í˜¼í•©)
                depthTest: false // êµ¬ì²´ ë‚´ë¶€ì— ìˆì–´ë„ ë¬´ì¡°ê±´ ë Œë”ë§ (íˆ¬ì‹œ)
            });

            const beam = new THREE.Mesh(geometry, material);
            
            // ì‹œì‘ì ê³¼ ëì ì˜ ì¤‘ê°„ ìœ„ì¹˜
            const midpoint = vStart.clone().add(vEnd).multiplyScalar(0.5);
            beam.position.copy(midpoint);
            beam.lookAt(vEnd);

            return beam;
        }

        // ----------------------------------------
        // [NEW] ë¹›ë‚˜ëŠ” ê¸€ë¡œìš° ìŠ¤í”„ë¼ì´íŠ¸ ìƒì„±
        // ----------------------------------------
        function createGlowSprite() {
            const canvas = document.createElement('canvas');
            canvas.width = 128;
            canvas.height = 128;
            const context = canvas.getContext('2d');
            const gradient = context.createRadialGradient(64, 64, 0, 64, 64, 64);
            gradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
            gradient.addColorStop(0.2, 'rgba(255, 255, 255, 0.5)');
            gradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.1)');
            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
            context.fillStyle = gradient;
            context.fillRect(0, 0, 128, 128);

            const texture = new THREE.CanvasTexture(canvas);
            const material = new THREE.SpriteMaterial({ 
                map: texture, 
                color: 0xffffff, 
                transparent: true, 
                blending: THREE.AdditiveBlending,
                depthTest: false
            });
            const sprite = new THREE.Sprite(material);
            sprite.scale.set(12, 12, 1); // [FINAL] í•µ í¬ê¸°ì— ë§ì¶° ê¸€ë¡œìš°ë„ í‚¤ì›€
            return sprite;
        }

        // ---------------------------
        // Three.js ì´ˆê¸°í™” ë° ì‹¤í–‰
        // ---------------------------
        function init() {
            const container = document.getElementById('canvas-container');

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0d1117);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = CONFIG.SPHERE_RADIUS * 2.5;

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
            container.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 15;
            controls.maxDistance = 50;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.5;

            const ambientLight = new THREE.AmbientLight(0xcccccc, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5,5,5);
            scene.add(directionalLight);

            // ë©”ì¸ êµ¬ì²´ (Sphere)
            const sphereGroup = new THREE.Group();
            const sphereGeometry = new THREE.SphereGeometry(CONFIG.SPHERE_RADIUS, 64, 64);
            // êµ¬ì²´ì˜ íˆ¬ëª…ë„ë¥¼ 0.5ë¡œ ìœ ì§€
            const sphereMaterial = new THREE.MeshLambertMaterial({ color: 0x1f2937, transparent: true, opacity: 0.5 });
            const mainSphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphereGroup.add(mainSphere);

            const wireframe = new THREE.LineSegments(
                new THREE.WireframeGeometry(sphereGeometry),
                new THREE.LineBasicMaterial({ color: 0xffffff, linewidth: 1, transparent: true, opacity: 0.2 })
            );
            sphereGroup.add(wireframe);

            // ----------------------------------------
            // [FINAL] ë‚´ë©´ì˜ í•µ (Core) - Size x2.5
            // ----------------------------------------
            // 1.5 * 2.5 = 3.75
            const coreGeometry = new THREE.SphereGeometry(4, 32, 32); 
            const coreMaterial = new THREE.MeshBasicMaterial({
                color: 0xFFFFFF, // BasicMaterialë¡œ ë³€ê²½í•˜ì—¬ ë¹›ì˜ ì˜í–¥ ì—†ì´ í•­ìƒ ë°ê²Œ
                transparent: true,
                opacity: 0.95
            });
            const coreMesh = new THREE.Mesh(coreGeometry, coreMaterial);
            coreMesh.position.set(0, 0, 0);
            
            // ê¸€ë¡œìš° íš¨ê³¼ ì¶”ê°€
            const glow = createGlowSprite();
            coreMesh.add(glow);

            // NOTE: coreMeshëŠ” ë” ì´ìƒ markersì— ì¶”ê°€í•˜ì§€ ì•ŠìŒ (ì‹œê°ì  ì—­í• ë§Œ ìˆ˜í–‰)
            // coreMesh.userData = { ... }; 
            
            sphereGroup.add(coreMesh);
            
            // ----------------------------------------
            // [FIX] í´ë¦­ íŒì •ìš© íˆ¬ëª… í•µ (Hit Box)
            // ----------------------------------------
            // ì‹œê°ì  í¬ê¸°ëŠ” 3.75ì§€ë§Œ, í´ë¦­ íŒì •ì€ ì•ˆìª½ 1.5 ì •ë„ë§Œ ìœ íš¨í•˜ê²Œ ì„¤ì •
            const hitGeometry = new THREE.SphereGeometry(1.0, 16, 16);
            const hitMaterial = new THREE.MeshBasicMaterial({ visible: false }); // íˆ¬ëª…
            const hitMesh = new THREE.Mesh(hitGeometry, hitMaterial);
            hitMesh.position.set(0, 0, 0);

            hitMesh.userData = {
                isMarker: true,
                regionName: "Core (ë‚´ë©´)",
                content: {
                    title: "ë‚˜ë¥¼ ì…ëŠ”ë‹¤ëŠ” ê²ƒ.",
                    text: "í‰ì†Œ íŒ¨ì…˜ì— ëŒ€í•œ ê´€ì‹¬ì´ë‚˜ ì§€ì‹ì´ ê¹Šì§€ëŠ” ì•Šì•˜ì§€ë§Œ, 'ë‚˜ë¥¼ ì…ëŠ” ë²•' ê³¼ì œë¥¼ ìˆ˜í–‰í•˜ë©° ë‚´ê°€ ì–´ë–¤ ì‚¬ëŒì¸ì§€ ë¶„ì„í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ë‚˜ë§Œì˜ ìŠ¤íƒ€ì¼ì„ í™•ë¦½í•˜ëŠ”ë°ì— ì¡°ê¸ˆ ë” ê°€ê¹Œì›Œì¡ŒìŠµë‹ˆë‹¤. \nê·¸ë™ì•ˆ ë¯¸ì²˜ ìƒê°í•˜ì§€ ëª»í–ˆë˜ ë‹¨ì ë“¤ì„ ë°œê²¬í•  ìˆ˜ ë„ ìˆì—ˆê³ , ì´ë¥¼ ë³´ì™„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•´ì„œë„ ê³ ì°° í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nê²°ë¡ ì ìœ¼ë¡œ ì´ë²ˆ ê³¼ì œë¥¼ í†µí•´ ë‹¤ì–‘í•œ ìš”ì†Œë‚˜ ì¸¡ë©´ì—ì„œ ë‚˜ì™€ íŒ¨ì…˜ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê³¼ê±°ì— ëŒ€í•œ ë°˜ì„±, í˜„ì¬ì˜ ë‚˜ì—ëŒ€í•œ íƒìƒ‰, ì´ìƒì ì¸ ìì•„ìƒì— ëŒ€í•œ ì„¤ê³„ë¥¼ í†µí•©ì ìœ¼ë¡œ ì§„í–‰í•˜ë©° ë‚´ë©´ì˜ ì •ì²´ì„±ì„ ê²‰ëª¨ìŠµìœ¼ë¡œ ë“œëŸ¬ë‚´ëŠ”ë°ì— ë”ìš± ì ê·¹ì ìœ¼ë¡œ ì„í•˜ëŠ” ì‚¬ëŒì´ ë˜ê² ë‹¤ê³  ë‹¤ì§í–ˆìŠµë‹ˆë‹¤. ",
                    image: "https://placehold.co/400x300/F0F0F0/000000?text=My+Core"
                }
            };

            sphereGroup.add(hitMesh);
            markers.push(hitMesh); // í´ë¦­ íŒì •ìš© ë©”ì‰¬ë§Œ markersì— ì¶”ê°€

            // ----------------------------------------

            // ìºì‹œ ë° ê³µìš© ê°ì²´
            const sharedMarkerGeometry = new THREE.SphereGeometry(0.4, 16, 16);
            const sharedRingGeometry = new THREE.RingGeometry(0.5, 0.6, 32);
            const materialCache = {}; 
            const allParticlePositions = [];
            const allParticleColors = [];
            const currentPositions = []; 

            regions.forEach((region) => {
                if (!materialCache[region.hex]) {
                    materialCache[region.hex] = {
                        marker: new THREE.MeshPhongMaterial({ color: region.color, emissive: region.color, emissiveIntensity: 0.8 }),
                        ring: new THREE.MeshBasicMaterial({ color: region.color, side: THREE.DoubleSide, transparent: true, opacity: 0.6 }),
                        particleColor: new THREE.Color(region.color)
                    };
                }
                const mats = materialCache[region.hex];

                let effectivePhiMin = region.startPhi;
                let effectivePhiMax = region.endPhi;
                let thetaMin, thetaMax;

                if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸") {
                    thetaMin = 0.05;
                    thetaMax = Math.PI / 4;
                } else {
                    const center = Math.PI / 2;
                    const spread = Math.PI * 30 / 180;
                    thetaMin = center - spread / 2;
                    thetaMax = center + spread / 2;
                }
                const effectivePhiRange = effectivePhiMax - effectivePhiMin;
                const effectiveThetaRange = thetaMax - thetaMin;

                for (let i = 0; i < CONFIG.MARKER_COUNT_PER_REGION; i++) {
                    let x, y, z;
                    let foundPosition = false;
                    let attempts = 0;
                    
                    while (!foundPosition && attempts < 100) {
                        const phi = effectivePhiMin + Math.random() * effectivePhiRange;
                        const theta = thetaMin + Math.random() * effectiveThetaRange;
                        x = CONFIG.SPHERE_RADIUS * Math.sin(theta) * Math.sin(phi);
                        y = CONFIG.SPHERE_RADIUS * Math.cos(theta);
                        z = CONFIG.SPHERE_RADIUS * Math.sin(theta) * Math.cos(phi);

                        let tooClose = false;
                        const newPos = new THREE.Vector3(x, y, z);
                        
                        for (const pos of currentPositions) {
                            if (newPos.distanceToSquared(pos) < CONFIG.MIN_DISTANCE_SQ) {
                                tooClose = true;
                                break;
                            }
                        }
                        if (!tooClose) {
                            foundPosition = true;
                            currentPositions.push(newPos);
                        }
                        attempts++;
                    }

                    const marker = new THREE.Mesh(sharedMarkerGeometry, mats.marker);
                    marker.position.set(x, y, z);
                    
                    const customContent = getCustomContent(region.name, i, region.hex);
                    marker.userData = {
                        isMarker: true,
                        regionName: region.name,
                        index: i + 1,
                        content: customContent
                    };
                    sphereGroup.add(marker);
                    markers.push(marker);

                    // ----------------------------------------
                    // [FINAL] ëª¨ë“  ì (Point)ê³¼ í•µ ì—°ê²°
                    // ----------------------------------------
                    // ì¡°ê±´ë¬¸(if i===0) ì œê±°í•˜ì—¬ ëª¨ë“  ë§ˆì»¤ì— ë¹” ìƒì„±
                    const start = new THREE.Vector3(0, 0, 0);
                    const end = new THREE.Vector3(x, y, z);
                    const beam = createConnectionBeam(start, end);
                    sphereGroup.add(beam);
                    beamMeshes.push(beam); // ì• ë‹ˆë©”ì´ì…˜ìš©
                    // ----------------------------------------

                    const ring = new THREE.Mesh(sharedRingGeometry, mats.ring);
                    ring.position.copy(marker.position);
                    ring.lookAt(marker.position.clone().multiplyScalar(2));
                    sphereGroup.add(ring);

                    for (let p = 0; p < CONFIG.PARTICLE_COUNT; p++) {
                        const px = x + (Math.random() - 0.5) * 1.0;
                        const py = y + (Math.random() - 0.5) * 1.0;
                        const pz = z + (Math.random() - 0.5) * 1.0;
                        allParticlePositions.push(px, py, pz);
                        allParticleColors.push(mats.particleColor.r, mats.particleColor.g, mats.particleColor.b);
                    }

                    const labelText = customContent.title || region.name;
                    const labelSprite = createLabelSprite(labelText, region.hex);
                    const labelPos = marker.position.clone().multiplyScalar(1.12);
                    labelSprite.position.copy(labelPos);
                    scene.add(labelSprite);
                    labelSprites.push(labelSprite);
                }
            });

            const mergedParticleGeometry = new THREE.BufferGeometry();
            mergedParticleGeometry.setAttribute('position', new THREE.Float32BufferAttribute(allParticlePositions, 3));
            mergedParticleGeometry.setAttribute('color', new THREE.Float32BufferAttribute(allParticleColors, 3));
            
            const particleMaterial = new THREE.PointsMaterial({
                size: 0.15,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });
            const mergedParticleSystem = new THREE.Points(mergedParticleGeometry, particleMaterial);
            sphereGroup.add(mergedParticleSystem);

            scene.add(sphereGroup);

            const legendList = document.getElementById('legend-list');
            regions.forEach(region => {
                const listItem = document.createElement('li');
                listItem.className = 'flex items-center';
                listItem.innerHTML = `<span class="color-dot" style="background-color: ${region.hex};"></span><span class="font-medium">${region.name}</span>`;
                legendList.appendChild(listItem);
            });

            window.addEventListener('resize', onWindowResize, false);
            renderer.domElement.addEventListener('click', onClick, false);

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();

            const cameraPos = camera.position;
            const len = labelSprites.length;
            
            for (let i = 0; i < len; i++) {
                const s = labelSprites[i];
                const dist = cameraPos.distanceTo(s.position);
                const base = s.userData.baseScale;
                
                const distanceFactor = dist / 30;
                let scaleX = base.x * distanceFactor;
                let scaleY = base.y * distanceFactor;

                if (scaleX < 0.4) scaleX = 0.4; else if (scaleX > 6.0) scaleX = 6.0;
                if (scaleY < 0.4) scaleY = 0.4; else if (scaleY > 6.0) scaleY = 6.0;

                s.scale.set(scaleX, scaleY, 1);
            }
            
            // ë¹” í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ (íˆ¬ëª…ë„ê°€ ë‚®ìœ¼ë¯€ë¡œ ë³€í™” í­ë„ ì¤„ì„)
            const time = Date.now() * 0.002;
            beamMeshes.forEach((beam, index) => {
                // ê¸°ë³¸ 0.15ì—ì„œ Â±0.05 ì •ë„ì˜ ë¯¸ì„¸í•œ ë–¨ë¦¼
                beam.material.opacity = 0.15 + Math.sin(time + index) * 0.05;
            });

            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function onClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(markers);

            if (intersects.length > 0) {
                const marker = intersects[0].object;
                if (marker.userData.isMarker) {
                    showModal(marker.userData);
                }
            }
        }

        const modal = document.getElementById('content-modal');
        const modalContentBox = document.getElementById('modal-content-box');
        const modalTitle = document.getElementById('modal-title');
        const modalRegion = document.getElementById('modal-region');
        const modalText = document.getElementById('modal-text');
        const modalImage = document.getElementById('modal-image');
        const closeModalButton = document.getElementById('close-modal');

        function showModal(data) {
            modalTitle.textContent = data.content.title;
            modalRegion.textContent = ''; 
            modalText.textContent = data.content.text || '';
            if (data.content.image) {
                modalImage.src = data.content.image;
                modalImage.alt = `${data.regionName} ê´€ë ¨ ì´ë¯¸ì§€`;
                modalImage.classList.remove('hidden');
            } else {
                modalImage.src = '';
                modalImage.classList.add('hidden');
            }
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            requestAnimationFrame(() => {
                modalContentBox.classList.remove('scale-95', 'opacity-0');
                modalContentBox.classList.add('scale-100', 'opacity-100');
            });
        }

        function hideModal() {
            modalContentBox.classList.remove('scale-100', 'opacity-100');
            modalContentBox.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }, 300);
        }

        closeModalButton.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) hideModal();
        });

        window.onload = init;
    </script>
</body>
</html>
