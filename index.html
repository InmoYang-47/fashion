<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ë‚˜ë¥¼ ì…ëŠ” ë²•: 3D íŒ¨ì…˜ ë¶„ì„ êµ¬ì²´</title>
    <!-- Tailwind CSS for modern styling and modal -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Three.js CDN for 3D graphics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- OrbitControls -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        /* Custom styles for the body and canvas */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden; /* Hide scrollbars */
            background-color: #0d1117; /* Dark background */
            color: #e5e7eb;
        }
        canvas { display:block; }
        .color-dot {
            width: 18px; /* í‚¤ì›€ (ì›ë˜ 10px) */
            height: 18px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 12px;
            box-shadow: 0 0 8px rgba(255,255,255,0.5);
        }
        /* Legend: í¬ê¸° 2ë°°ë¡œ í‚¤ì›€ (ìš”ì²­ì‚¬í•­) */
        #legend-bar {
            min-width: 600px;              /* ê¸°ì¡´ 300px -> 600px (2ë°°) */
            padding: 2.5rem;               /* ê¸°ì¡´ 1.25rem -> 2.5rem (2ë°°) */
            font-size: 1.25rem;            /* í…ìŠ¤íŠ¸ë„ í‚¤ì›€ (ì›ë˜ 1rem) */
        }
        /* ë²”ë¡€ ë‚´ë¶€ í•­ëª© í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
        #legend-bar .font-medium {
            font-size: 1.125rem;
        }
        /* Modal transition tweaks (unchanged functionality) */
    </style>
</head>
<body class="flex flex-col items-center justify-center h-screen">

    <!-- Information Bar (Top Left) -->
    <div id="info-bar" class="absolute top-4 left-4 z-10 p-4 bg-white/10 backdrop-blur-sm rounded-xl shadow-2xl text-sm md:text-base transition-all duration-300 max-w-xs text-left">
        <h1 class="font-bold text-xl mb-1 text-yellow-300">íŒ¨ì…˜ê³¼ ë¼ì´í”„: ë‚˜ë¥¼ ì…ëŠ” ë²•.</h1>
        <p class="text-gray-300 text-sm">ë§ˆìš°ìŠ¤ë¥¼ ë“œë˜ê·¸/ìŠ¤í¬ë¡¤í•˜ì—¬ êµ¬ì²´ë¥¼ ì¡°ì‘í•˜ê³ , ì ì„ í´ë¦­í•˜ì„¸ìš”.</p>
        <p class="text-xs mt-2 text-red-300"></p>
    </div>

    <!-- Legend Bar (Bottom Right) - í¬ê¸° í‚¤ì›€ -->
    <div id="legend-bar" class="absolute bottom-4 right-4 z-10 bg-white/10 backdrop-blur-sm rounded-xl shadow-2xl text-sm max-w-xs transition-all duration-300">
        <h2 class="font-bold text-lg mb-2 text-cyan-300 border-b border-gray-600 pb-1">[ë²”ë¡€] ìƒ‰ìƒ ë³„ ì˜ë¯¸ (Zones)</h2>
        <ul id="legend-list" class="space-y-2 text-gray-200 p-2"></ul>
    </div>

    <!-- Container for Three.js Canvas -->
    <div id="canvas-container" class="w-full h-full absolute"></div>

    <!-- Modal for Content Display -->
    <div id="content-modal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="bg-gray-800 p-6 rounded-2xl shadow-3xl max-w-lg w-11/12 m-4 border border-gray-700 transform transition-all duration-300 scale-95 opacity-0" id="modal-content-box">
            <div class="flex justify-between items-start mb-4 border-b border-gray-700 pb-3">
                <h2 id="modal-title" class="text-2xl font-extrabold text-yellow-400">ê°€ë‚˜ë‹¤ë¼ ì œëª©</h2>
                <button id="close-modal" class="text-gray-400 hover:text-white transition duration-200 p-1 rounded-full hover:bg-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <p id="modal-region" class="text-sm font-medium mb-3 text-cyan-400"></p>
            <img id="modal-image" class="w-full h-auto rounded-xl object-cover mb-4 border border-gray-600 hidden" alt="Placeholder Image">
            <p id="modal-text" class="text-gray-200 leading-relaxed whitespace-pre-wrap">ê°€ë‚˜ë‹¤ë¼ ë‚´ìš©ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <div class="mt-6 pt-4 border-t border-gray-700 text-xs text-gray-500">
                <p></p>
            </div>
        </div>
    </div>

    <script type="module">
        // ---------------------------
        // ê¸°ë³¸ ì„¤ì • (ì›ë³¸ ë¡œì§ ìœ ì§€)
        // ---------------------------
        let scene, camera, renderer, controls;
        const container = document.getElementById('canvas-container');
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        const SPHERE_RADIUS = 10;
        const MARKER_COUNT_PER_REGION = 4;
        // PERF: íŒŒí‹°í´ ìˆ˜ ì†Œí­ ê°ì†Œë¡œ ë ‰ ì™„í™”
        const PARTICLE_COUNT = 12; 
        const MIN_DISTANCE = 3.0;

        // ---------------------------
        // regions: ì²˜ìŒ 5ê°œ ì˜ì—­ì€ ì ë„(Ï†) ë¥¼ 360/5 ë¡œ ê· ë“± ë¶„í• 
        // (startPhi/endPhiì„ ì •í™•íˆ 2Ï€/5 ê°„ê²©ìœ¼ë¡œ ì„¤ì •)
        // ë§ˆì§€ë§‰ í•­ëª© "íŒ¨ì…˜ ë¡¤ëª¨ë¸"ì€ ê¸°ì¡´ì²˜ëŸ¼ ì „ì²´ Ï† ë²”ìœ„ë¥¼ ê°€ì§
        // ---------------------------
        const TWO_PI = Math.PI * 2;
        const FIVE_SEG = TWO_PI / 5; // 72ë„ ê°„ê²© (ë¼ë””ì•ˆ)

        const regions = [
            { name: "ê°€ì¹˜ì™€ ì² í•™", color: 0xFF5733, hex: '#FF5733', startPhi: 0 * FIVE_SEG, endPhi: 1 * FIVE_SEG },
            { name: "ì„±ê²©", color: 0x33FF57, hex: '#33FF57', startPhi: 1 * FIVE_SEG, endPhi: 2 * FIVE_SEG },
            { name: "ë¬¸ì œì™€ ê³ ë¯¼", color: 0x3357FF, hex: '#3357FF', startPhi: 2 * FIVE_SEG, endPhi: 3 * FIVE_SEG },
            { name: "ë¼ì´í”„ìŠ¤íƒ€ì¼", color: 0xFF33A1, hex: '#FF33A1', startPhi: 3 * FIVE_SEG, endPhi: 4 * FIVE_SEG },
            { name: "ì·¨í–¥", color: 0x33FFF9, hex: '#33FFF9', startPhi: 4 * FIVE_SEG, endPhi: 5 * FIVE_SEG },
            // ê¸°ì¡´ì˜ "íŒ¨ì…˜ ë¡¤ëª¨ë¸" í•­ëª©ì€ ì „êµ¬(ì „ì²´ Ï†)ë¡œ ìœ ì§€
            { name: "íŒ¨ì…˜ ë¡¤ëª¨ë¸", color: 0xF9FF33, hex: '#F9FF33', startPhi: 0, endPhi: TWO_PI },
        ];

        const markers = [];
        const particleSystems = [];
        // ë¼ë²¨ ìŠ¤í”„ë¼ì´íŠ¸ ê´€ë¦¬
        const labelSprites = [];

        const placeholderContent = {
            title: "ê°€ë‚˜ë‹¤ë¼ ì œëª©",
            text: "ê°€ë‚˜ë‹¤ë¼ ë‚´ìš©ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‚˜ì˜ ì‚¶, ì„±ê²©, ìŠ¤íƒ€ì¼, ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ë¶„ì„í•˜ê³ , í˜„ì¬ ì˜·ì¥ì„ ë˜ëŒì•„ë³´ë©° ì•ìœ¼ë¡œì˜ 'ë‚˜ì˜ ì˜· ì…ê¸° ê³„íš'ì„ ìˆ˜ë¦½í•˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ì±„ì›Œì£¼ì„¸ìš”.",
            image: "https://placehold.co/400x200/5733FF/FFFFFF?text=ì‚¬ì§„+placeholder"
        };

        // ---------------------------
        // ë¼ë²¨ ìƒì„± í•¨ìˆ˜ (ìš”ì²­ì‚¬í•­ 2: ë¼ë²¨ í¬ê¸° 1.5ë°°)
        // - THREE.Sprite ì‚¬ìš©
        // - ìº”ë²„ìŠ¤ì— ë°°ê²½ ë°•ìŠ¤(ì•½ê°„ íˆ¬ëª…), í° í…ìŠ¤íŠ¸
        // - í…ìŠ¤íŠ¸ ê¸¸ì´ì— ë§ì¶° ìº”ë²„ìŠ¤ í¬ê¸° ì‚¬ìš©
        // - ê° ìŠ¤í”„ë¼ì´íŠ¸ì— baseScale ì €ì¥ (ë‚˜ì¤‘ì— ê±°ë¦¬ ê¸°ë°˜ ì¡°ì •)
        // ë³€ê²½: ê¸°ë³¸ fontSize ë° scaleUnitsë¥¼ 1.5ë°°ë¡œ ì¦ê°€ì‹œì¼œ 'í‚¤ì›Œë“œ ë°•ìŠ¤ì™€ í…ìŠ¤íŠ¸ë¥¼ 1.5ë°°'ë¡œ êµ¬í˜„
        // ---------------------------
        function createLabelSprite(text, regionHex, options = {}) {
            // scaling multiplier (1.5ë°°)
            const LABEL_MULT = 1.5;

            // canvasì— ê·¸ë ¤ í…ìŠ¤ì²˜ë¡œ ì‚¬ìš©
            const padding = Math.round(8 * LABEL_MULT);
            const baseFontSize = options.fontSize || 28; // ì›ë˜ 28
            const fontSize = Math.round(baseFontSize * LABEL_MULT); // 1.5ë°° ì ìš©
            const font = `${fontSize}px Inter, Arial`;
            const tmpCanvas = document.createElement('canvas');
            const ctx = tmpCanvas.getContext('2d');

            // ì„ì‹œ í°íŠ¸ ì„¸íŒ…ìœ¼ë¡œ ì¸¡ì •
            ctx.font = font;
            const metrics = ctx.measureText(text);
            const textWidth = Math.ceil(metrics.width);
            const textHeight = fontSize;

            // ìº”ë²„ìŠ¤ í¬ê¸°: í…ìŠ¤íŠ¸ í­ + ì¢Œìš° íŒ¨ë”©
            tmpCanvas.width = textWidth + padding * 2;
            tmpCanvas.height = textHeight + padding * 2;

            // ë‹¤ì‹œ context ì„¸íŒ…(ìº”ë²„ìŠ¤ ë¦¬ì‚¬ì´ì¦ˆ í›„ í°íŠ¸ ì´ˆê¸°í™” í•„ìš”)
            ctx.font = font;
            ctx.textBaseline = 'middle';
            ctx.textAlign = 'left';

            // ë°°ê²½ ë°•ìŠ¤: ë§ˆì»¤ ìƒ‰ìƒ ê¸°ë°˜, íˆ¬ëª…ë„ ì•½ê°„ ë‚®ê²Œ
            // regionHexì´ ì—†ìœ¼ë©´ ë°˜íˆ¬ëª… ê²€ì€ìƒ‰
            const bg = regionHex ? hexToRgba(regionHex, 0.45) : 'rgba(0,0,0,0.45)';
            roundRect(ctx, 0, 0, tmpCanvas.width, tmpCanvas.height, 8 * LABEL_MULT, bg);

            // í°ìƒ‰ í…ìŠ¤íŠ¸
            ctx.fillStyle = '#ffffff';
            ctx.fillText(text, padding, tmpCanvas.height / 2);

            // ìº”ë²„ìŠ¤ -> í…ìŠ¤ì²˜
            const texture = new THREE.CanvasTexture(tmpCanvas);
            texture.minFilter = THREE.LinearFilter;
            texture.needsUpdate = true;

            const material = new THREE.SpriteMaterial({ map: texture, transparent: true, depthTest: false });
            const sprite = new THREE.Sprite(material);

            // ìŠ¤í”„ë¼ì´íŠ¸ì˜ world-scale ì´ˆê¸°ê°’ (í…ìŠ¤íŠ¸ ê¸¸ì´ì— ë”°ë¼)
            // scaleUnits: canvas pixels -> world units factor (ì¦ê°€)
            const scaleUnits = 0.02 * LABEL_MULT; // 0.02 -> 0.03 (1.5ë°°)
            const baseScaleX = tmpCanvas.width * scaleUnits;
            const baseScaleY = tmpCanvas.height * scaleUnits;

            sprite.userData = {
                baseScale: new THREE.Vector2(baseScaleX, baseScaleY),
                canvasSize: { w: tmpCanvas.width, h: tmpCanvas.height }
            };

            sprite.scale.set(baseScaleX, baseScaleY, 1);

            return sprite;
        }

        // Helper: ë‘¥ê·¼ ì‚¬ê°í˜•
        function roundRect(ctx, x, y, w, h, r, fillStyle) {
            const radius = r;
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.arcTo(x + w, y, x + w, y + h, radius);
            ctx.arcTo(x + w, y + h, x, y + h, radius);
            ctx.arcTo(x, y + h, x, y, radius);
            ctx.arcTo(x, y, x + w, y, radius);
            ctx.closePath();
            ctx.fillStyle = fillStyle;
            ctx.fill();
        }

        // Helper: hex -> rgba string
        function hexToRgba(hex, alpha = 1.0) {
            const c = hex.replace('#','');
            const r = parseInt(c.substring(0,2),16);
            const g = parseInt(c.substring(2,4),16);
            const b = parseInt(c.substring(4,6),16);
            return `rgba(${r},${g},${b},${alpha})`;
        }

        // ---------------------------
        // ì´ˆê¸°í™”
        // ---------------------------
        function init() {
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0d1117);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = SPHERE_RADIUS * 2.5;

            // Renderer ìµœì í™”: pixel ratio ì œí•œìœ¼ë¡œ ë ‰ ì™„í™”
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2)); // perf-friendly
            container.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 15;
            controls.maxDistance = 50;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.5;

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xcccccc, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5,5,5);
            scene.add(directionalLight);

            // Sphere (ì›ë³¸ ë¡œì§ ìœ ì§€)
            const sphereGroup = new THREE.Group();
            const sphereGeometry = new THREE.SphereGeometry(SPHERE_RADIUS, 64, 64);
            const sphereMaterial = new THREE.MeshLambertMaterial({ color: 0x1f2937, transparent: true, opacity: 0.8 });
            const mainSphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphereGroup.add(mainSphere);

            const wireframeGeometry = new THREE.WireframeGeometry(sphereGeometry);
            const wireframeMaterial = new THREE.LineBasicMaterial({ color: 0xffffff, linewidth: 1, transparent: true, opacity: 0.3 });
            const wireframe = new THREE.LineSegments(wireframeGeometry, wireframeMaterial);
            sphereGroup.add(wireframe);

            scene.add(sphereGroup);

            // Markers ìƒì„± (ì›ë³¸ ë¡œì§ ìœ ì§€í•˜ë˜ ë¼ë²¨ ì¶”ê°€)
            regions.forEach((region, regionIndex) => {
                const markerColor = new THREE.Color(region.color);
                const currentPositions = [];

                // ìœ„ë„/ê²½ë„ ë²”ìœ„ ì„¤ì •
                // ë³€ê²½: ì²˜ìŒ 5ê°œ ì§€ì—­(ì¸ë±ìŠ¤ 0~4)ì€ ì ë„ ë°´ë“œë¥¼ ì‚¬ìš©
                let effectivePhiMin = region.startPhi;
                let effectivePhiMax = region.endPhi;
                let thetaMin, thetaMax;
                if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸") {
                    effectivePhiMin = region.startPhi;
                    effectivePhiMax = region.endPhi;
                    thetaMin = 0.05;
                    thetaMax = Math.PI / 4;
                } else {
                    // ì ë„ ê·¼ì²˜ë¡œ ì¢ê²Œ ì„¤ì • (ê· ì¼í•œ ì ë„ ë¶„í• )
                    const center = Math.PI / 2;
                    const spread = Math.PI * 30 / 180; // ì•½ Â±15Â° (ì¢ì€ ë°´ë“œ)
                    thetaMin = center - spread / 2;
                    thetaMax = center + spread / 2;
                }
                const effectivePhiRange = effectivePhiMax - effectivePhiMin;
                const effectiveThetaRange = thetaMax - thetaMin;

                for (let i = 0; i < MARKER_COUNT_PER_REGION; i++) {
                    let x, y, z;
                    let foundPosition = false;
                    let attempts = 0;
                    while (!foundPosition && attempts < 100) {
                        const phi = effectivePhiMin + Math.random()*effectivePhiRange;
                        const theta = thetaMin + Math.random()*effectiveThetaRange;
                        x = SPHERE_RADIUS * Math.sin(theta) * Math.sin(phi);
                        y = SPHERE_RADIUS * Math.cos(theta);
                        z = SPHERE_RADIUS * Math.sin(theta) * Math.cos(phi);

                        let tooClose = false;
                        for (const pos of currentPositions) {
                            const dist = new THREE.Vector3(x,y,z).distanceTo(pos);
                            if (dist < MIN_DISTANCE) { tooClose = true; break; }
                        }
                        if (!tooClose) {
                            foundPosition = true;
                            currentPositions.push(new THREE.Vector3(x,y,z));
                        }
                        attempts++;
                    }

                    const markerGeometry = new THREE.SphereGeometry(0.4, 16, 16);
                    const markerMaterial = new THREE.MeshPhongMaterial({ color: markerColor, emissive: markerColor, emissiveIntensity: 0.8 });
                    const marker = new THREE.Mesh(markerGeometry, markerMaterial);
                    marker.position.set(x,y,z);

                    // ------------------------
                    // ì‚¬ìš©ì ì»¤ìŠ¤í…€ ì½˜í…ì¸  (ì›ë³¸ ê·¸ëŒ€ë¡œ ìœ ì§€)
                    // ------------------------
                    let customContent = {
                        title: `ê°€ë‚˜ë‹¤ë¼ ì œëª© #${i + 1} (${region.name})`,
                        text: placeholderContent.text,
                        image: `https://placehold.co/400x200/${region.hex.substring(1)}/FFFFFF?text=${region.name}`
                    };

                    // (ì›ë³¸ì—ì„œ ì œê³µí•œ ëª¨ë“  ë¶„ê¸° ë‚´ìš© ê·¸ëŒ€ë¡œ ë³µì‚¬)
                    if (region.name === "ê°€ì¹˜ì™€ ì² í•™" && i === 0) {
                        customContent.title = "ë‚´êµ¬ì„±";
                        customContent.text = "í•œ ë²ˆ êµ¬ë§¤í•˜ê³ ë‚˜ì„œ ì˜¤ëœ ê¸°ê°„ ì°©ìš©í•  ìˆ˜ ìˆëŠ” ìƒí’ˆì„ ì„ í˜¸í•©ë‹ˆë‹¤. \nì´ëŠ” ê¸ˆì „ì ì¸ ì ˆì•½ê³¼, í™˜ê²½ì— ëª¨ë‘ ê¸ì •ì ì¸ ì˜í–¥ì„ ì¤€ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nì‹¤ì œë¡œ í•œë•Œ ë‚´êµ¬ì„± ì¢‹ì€ ì‹ ë°œ ë¸Œëœë“œë¥¼ ì°¾ì•„ ë‹¤ì–‘í•œ ë¸Œëœë“œì˜ ì‹ ë°œì„ êµ¬ë§¤í–ˆì—ˆëŠ”ë°, 'ì˜¤ë‹ˆì¸ ì¹´ íƒ€ì´ê±°' ì‹ ë°œì˜ ì œí’ˆì„ 2018ë…„ì— êµ¬ë§¤í•˜ì—¬ 7ë…„ì§¸ ë§ê°€ì§ ì—†ì´ ì°©ìš©ì¤‘ìœ¼ë¡œ ì—„ì²­ë‚œ ë§Œì¡±ê°ì„ ëŠë¼ê³  ìˆìŠµë‹ˆë‹¤.";
                        customContent.image = "";
                    } 
                    else if (region.name === "ê°€ì¹˜ì™€ ì² í•™" && i === 1) {
                        customContent.title = "ì¶”ì–µ";
                        customContent.text = "ë‚˜ ìì‹ , ë˜ëŠ” íƒ€ì¸ê³¼ì˜ ì¶”ì–µì´ ë‹´ê²¨ìˆëŠ” ì˜·ì„ ì…ê³ ë‹¤ë‹ˆê±°ë‚˜ ëª¨ìœ¼ê³  ì„ ë¬¼í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.\nì‚¬ì§„ì´ë‚˜ ë‹¤ë¥¸ ìë£Œë“¤ê³¼ëŠ” ë‹¬ë¦¬ ì§ì ‘ ì°©ìš©í•¨ìœ¼ë¡œì¨ ê·¸ë•Œ ê·¸ ì‹œì ˆì˜ ë‚˜ ìì‹ ì´ ëœê±°ê°™ì€ ê¸°ë¶„ì„ ëŠë¼ê¸° ë•Œë¬¸ì— ì—„ì²­ë‚œ ê°€ì¹˜ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì‹¤ì œë¡œ 23ë…„ ê²¨ìš¸, ëŸ°ë˜ ì—¬í–‰ì¤‘ ìš°ì—°íˆ ì†í¥ë¯¼ ì„ ìˆ˜ë¥¼ ë§Œë‚˜ ì…ê³ ìˆë˜ ì˜·ì— ì‚¬ì¸ì„ ë°›ì€ ì ì´ ìˆëŠ”ë° ì´ì˜·ì„ ì•„ì§ê¹Œì§€ë„ ì…ê³ ë‹¤ë‹ˆë©° ê·¸ë•Œì˜ ë‚˜ë¡œ ëŒì•„ê°€ê³¤ í•©ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_214115604_01.jpg";
                    } 
                    else if (region.name === "ê°€ì¹˜ì™€ ì² í•™" && i === 2) {
                        customContent.title = "í•©ë¦¬ì ì¸ ê°€ê²©";
                        customContent.text = "ì €ë ´í•´ì„œ ì¢‹ê³ , ë¹„ì‹¸ì„œ ì•ˆì¢‹ê³ ê°€ ì•„ë‹Œ 'ìƒí’ˆì´ ì œ ê°’ì„ í•˜ëŠ”ì§€'ì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤. \nê°€ë ¹ í•™ìƒì—ê²ŒëŠ” ë¹„ì‹¼ 100ë§Œì›ì´ ë„˜ëŠ” ì˜·ë„ ë‚˜ ìì‹ ì—ê²Œ ê·¸ ì •ë„ ê°’ì„ í•œë‹¤ê³  ìƒê°í•˜ë©´ í›Œë¥­í•œ ì˜·ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì‹¤ì œë¡œ êµ° ë³µë¬´ë¥¼ ë§ˆì¹˜ê³  ì €ì¶•í•´ë‘” ì›”ê¸‰ìœ¼ë¡œ ë°±í™”ì ì—ì„œ ë²„ë²„ë¦¬ ì…”ì¸ ë¥¼ êµ¬ë§¤í•œ ì ì´ ìˆëŠ”ë°, ë‹¹ì—°íˆ í•™ìƒ ì‹ ë¶„ì—ì„  ê°€ê²©ëŒ€ê°€ ë†’ì€ ì œí’ˆì´ê³  ë‚¨ë“¤ì´ ì¢‹ì§€ ì•Šê²Œ ë³¼ ìˆ˜ ìˆì§€ë§Œ ë‚˜ ìì‹ ì„ í‘œí˜„í•˜ëŠ”ë°ì— í•©ë¦¬ì ì¸ ê°€ê²©ì´ë¼ê³  ìƒê°ì´ ë“¤ì—ˆê¸°ì— ì „í˜€ í›„íšŒí•˜ì§€ ì•Šê³  ì§€ê¸ˆê¹Œì§€ë„ ë§Œì¡±ê°ì„ ëŠë‚ë‹ˆë‹¤. ";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_130913835_01.jpg";
                    } 
                    else if (region.name === "ê°€ì¹˜ì™€ ì² í•™" && i === 3) {
                        customContent.title = "ì§„ì •ì„±";
                        customContent.text = "ìœ í–‰ì´ë‚˜ SNSë¥¼ í†µí•´ ì¶©ë™ì ìœ¼ë¡œ êµ¬ë§¤í•˜ëŠ”ê²ƒì´ ì•„ë‹Œ ë‚˜ ìì‹ ì—ê²Œ ì •ë§ë¡œ í•„ìš”í•œ ê²ƒì¸ì§€ ì˜·ì„ êµ¬ë§¤í• ë•Œë§ˆë‹¤ ìì£¼ ì¥ê³ ë¥¼ í•©ë‹ˆë‹¤.\nì´ëŠ” ë³´ìˆ˜ì ì¸ ì„±ê²©ì´ ì˜·ì— ëŒ€í•œ ê°€ì¹˜ì™€ ì² í•™ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ê³ , ê²°êµ­ ì†Œë¹„ ë°©ì‹ê¹Œì§€ í™•ì¥ëœ ë‚˜ë§Œì˜ ê°€ì¹˜ì…ë‹ˆë‹¤.";
                        customContent.image = ""; 
                    } 
                    
                    // ì„±ê²©
                    else if (region.name === "ì„±ê²©" && i === 0) {
                        customContent.title = "ë‚¨ë“¤ì˜ ì‹œì„ ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ”ë‹¤.";
                        customContent.text = "TPOê°€ ì¤‘ìš”í•˜ê²Œ ìš”êµ¬ë˜ì§€ ì•ŠëŠ” í•œ ë‚¨ë“¤ì˜ ì‹œì„ ì´ë‚˜ ìœ í–‰ì„ ì‹ ê²½ì“°ì§€ì•Šê³ , ì›í•˜ëŠ” ì˜·ì„ ì…ëŠ” ê²ƒì— ì¦ê±°ì›€ì„ ëŠë‚ë‹ˆë‹¤.\nì˜·ì´ ì˜¤ì—¼ë˜ê±°ë‚˜ ì†ìƒë˜ì–´ë„ ì¼ìƒìƒí™œì— ë§‰ëŒ€í•œ ë¬¸ì œê°€ ì—†ë‹¤ë©´ ë²„ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. \nì´ëŸ¬í•œ ì„±ê²©ì´ ê³„ì† ìœ ì§€ë˜ì–´ì„œ ìš”ì¦˜ì€ ì˜¤íˆë ¤ ìœ í–‰ì—ì„œ ë²—ì–´ë‚œ ì˜·ì„ ì…ê³ ì í•˜ë ¤ëŠ” ê°•ë°•ë„ ê°€ë” ëŠê»´ì§€ê³¤ í•©ë‹ˆë‹¤.";
                        customContent.image = "";
                    }
                    else if (region.name === "ì„±ê²©" && i === 1) {
                        customContent.title = "ISTJ";
                        customContent.text = "ë‚´í–¥ì ì¸ ë©´ì´ ê°•í•´ ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ìŠ¤íƒ€ì¼ì˜ ì˜·ì„ ì„ í˜¸í•˜ë©°, íƒ€ì¸ê³¼ ê°™ì´ ì˜·ì„ ì‚¬ëŠ”ê²ƒë³´ë‹¤ ìŠ¤ìŠ¤ë¡œ ì˜·ì„ êµ¬ë§¤í•˜ëŠ” í¸ì…ë‹ˆë‹¤. \në˜í•œ ì²´ê³„ì ì¸ ë©´ ë•Œë¬¸ì— ì˜· í•œë²Œì„ ì‚´ë•Œë„ ê°€ê²©ì´ë‚˜ ì‹¤ìš©ì„± ë“± ë§ì€ ì¸¡ë©´ì—ì„œ ê³ ë¯¼í•˜ê¸°ì— ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•©ë‹ˆë‹¤.";
                        customContent.image = "";
                    }
                    else if (region.name === "ì„±ê²©" && i === 2) {
                        customContent.title = "ë³´ìˆ˜ì ì¸ ì‚¬ëŒ";
                        customContent.text = "íŒ¨ì…˜ì— ìˆì–´ì„œ ìƒˆë¡œìš´ ë„ì „ì„ í•˜ëŠ” ê²ƒì„ ì‰½ê²Œ ìƒê°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ì™€ì´ë“œ íŒ¬ì¸ ê°€ ìœ í–‰í•  ë•Œ ì˜¤ëœ ê¸°ê°„ êµ¬ë§¤ë¥¼ ë§ì„¤ì´ê³  ìŠ¬ë¦¼í• íŒ¬ì¸ ë¥¼ ê³ ì§‘í–ˆìŠµë‹ˆë‹¤.\nì´ëŠ” ì–´ë¦´ë•Œë¶€í„° ë‹¤ì–‘í•œ ì˜·ì„ ì…ê¸°ë³´ë‹¤ëŠ” ì…ë˜ê²ƒë§Œ ì…ê±°ë‚˜, ì•„ì§ê¹Œì§€ ë‚˜ ìì‹ ì„ ê¾¸ë¯¸ê³  ê°€ê¾¸ëŠ” ê²ƒì— ëŒ€í•œ ì¤‘ìš”ì„±ì„ í™•ì‹¤í•˜ê²Œ ëŠë¼ì§€ ëª»í•´ì„œë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nì•ìœ¼ë¡œëŠ” ë‹¤ì–‘í•œ ê²½í—˜ì„ í•˜ê³  ì—¬ëŸ¬ í™˜ê²½ì†ì— ì†í•´ë³´ë©´ì„œ íŒ¨ì…˜ì— ìˆì–´ ìƒˆë¡œìš´ ë„ì „ì„ êº¼ë¦¬ì§€ ì•ŠëŠ” ì‚¬ëŒì´ ë˜ê³ ì‹¶ìŠµë‹ˆë‹¤. ";
                        customContent.image = "";
                    }
                    else if (region.name === "ì„±ê²©" && i === 3) {
                        customContent.title = "ì§‘ìš”í•¨";
                        customContent.text = "ì§‘ìš”í•œ ë©´ì´ ìˆì–´ íŠ¹ì • ìƒí’ˆì— ë¹ ì§€ë©´ ê·¸ ìƒí’ˆì˜ ë¸Œëœë“œë‚˜ ê·¸ ìƒí’ˆë§Œì„ ê³ ìˆ˜í•˜ê³¤ í•©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ì„±ê²©ì€ ì†Œë¹„ìŠµê´€ì—ë„ í° ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\ní•œ ë•Œ, êµ¬í•˜ê¸° í˜ë“  ì„ ê¸€ë¼ìŠ¤ë¥¼ êµ¬ë§¤í•˜ê³ ì ì—„ì²­ë‚œ ì‹œê°„ì„ ë“¤ì˜€ì§€ë§Œ ê²°êµ­ êµ¬ë§¤í•˜ì§€ ëª»í–ˆë˜ ê¸°ì–µì´ ìˆìŠµë‹ˆë‹¤.";
                        customContent.image = "";
                    }

                    // ë¬¸ì œì™€ ê³ ë¯¼
                    else if (region.name === "ë¬¸ì œì™€ ê³ ë¯¼" && i === 0) {
                        customContent.title = "ì¶”ìœ„ë¥¼ ë§ì´ íƒ„ë‹¤. ğŸ¥¶";
                        customContent.text = "ë³´í†µ ì‚¬ëŒë“¤ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ì¶”ìœ„ë¥¼ ë§ì´ íƒ€ê¸°ë•Œë¬¸ì— ì—¬ë¦„ ì˜·ë³´ë‹¤ ê²¨ìš¸ ì˜·ì´ í›¨ì”¬ ë§ì•„ ì˜·ì¥ì˜ ë¶€í”¼ë¥¼ ì‰½ê²Œ ì°¨ì§€í•˜ë©°, ì™¸ì¶œ ì‹œ ê²‰ì˜·ì„ ê°€ì§€ê³  ë‹¤ë‹ˆëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•©ë‹ˆë‹¤. \në˜í•œ ì–‡ì€ ì˜·ì„ ë§ì´ ì…ê±°ë‚˜ ë‘êº¼ìš´ ì˜·ì„ ì…ì–´ ì¶”ìœ„ë¥¼ ë§‰ê¸°ë•Œë¬¸ì— í‰ìƒì‹œë³´ë‹¤ ëš±ëš±í•´ë³´ì´ê±°ë‚˜ ë‘”í•´ë³´ì´ëŠ” ê²½ìš°ê°€ ìì£¼ ë°œìƒí•˜ì—¬ ë¯¸í•™ê³¼ ì‹¤ìš©ì  ì¸¡ë©´ ì‚¬ì´ì—ì„œ ê· í˜•ì ì„ ì°¾ëŠ”ê²ƒì´ í•­ìƒ ê³ ë¯¼ê±°ë¦¬ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\në˜í•œ ì˜ˆì „ê³¼ëŠ” ë‹¬ë¦¬ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ ê²¨ìš¸ ë‚ ì”¨ë¡œ ì¸í•´ ì˜¨ë„ì— ë§ëŠ” ë°©í•œ ì˜ë¥˜ë¥¼ ì‰½ê²Œ êº¼ë‚´ ì…ì„ ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•˜ëŠ”ê²ƒë„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ";
                        customContent.image = "";
                    }
                    else if (region.name === "ë¬¸ì œì™€ ê³ ë¯¼" && i === 1) {
                        customContent.title = "ì²˜ë¶„ ê¸°ì¤€ í™•ë¦½ì˜ ì–´ë ¤ì›€. ğŸ‘”";
                        customContent.text = "í•„ìš” ì—†ëŠ” ì˜·ì„ ì²˜ë¶„í•¨ìœ¼ë¡œì¨ ì˜·ì¥ì˜ ë¶€í”¼ë¥¼ í™•ë³´í•´ì•¼í•˜ëŠ”ë°, ì¶”ì–µì´ ë‹´ê¸´ ì˜·ì„ ê°€ì¹˜ìˆê²Œ ì—¬ê¸°ëŠ” íƒ“ì— ì‚¬ì´ì¦ˆê°€ ë§ì§€ ì•Šì§€ë§Œ ì²˜ë¶„í•˜ì§€ ëª»í•œ ì˜·ë“¤ì´ ì¡´ì¬í•˜ê³  \në‹¤ë¥¸ ì´ìœ ë¡œëŠ” ë‚˜ì—ê²Œ ì–´ë–¤ ì˜·ì´ ì˜ ì–´ìš¸ë¦¬ëŠ”ì§€ì— ëŒ€í•œ ë¹ ë¥¸ íŒë‹¨ì´ ì‰½ê²Œ ì„œì§€ ì•Šì•„ ì²˜ë¶„í•˜ì§€ ëª»í•œ ì˜·ë“¤ì´ ë§ìŠµë‹ˆë‹¤.  ";
                        customContent.image = "";
                    }
                    else if (region.name === "ë¬¸ì œì™€ ê³ ë¯¼" && i === 2) {
                        customContent.title = "ì‘ì€ ì²´í˜•";
                        customContent.text = "172cmì˜ ì‹ ì¥ìœ¼ë¡œ í‰ê·  ëŒ€ë¹„ ì‘ì€ ì²´í˜•ì„ ì§€ë‹ˆê³  ìˆì–´ì„œ ë‚¨ë“¤ì˜ ì‹œì„ ì„ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë“¤, ì˜·ì„ êµ¬ë§¤í•  ë•Œ ë¹„ìœ¨ì— ëŒ€í•œ ë¶€ë¶„ì„ ë¬´ì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì´ ìš”ì†ŒëŠ” ë‚˜ë§Œì˜ ìŠ¤íƒ€ì¼ì„ í™•ë¦½í•˜ëŠ”ë°ì— ìˆì–´ ì£¼ê´€ì  ê°€ì¹˜ê´€ê³¼ ê°ê´€ì ì¸ ì‹ ì²´ ì¡°ê±´ ì‚¬ì´ì˜ ê· í˜•ì ì„ ì°¾ìŒìœ¼ë¡œì„œ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê°€ì¥ ê¹Šì€ ê³ ë¯¼ í¬ì¸íŠ¸ ì…ë‹ˆë‹¤.";
                        customContent.image = "";
                    }
                    else if (region.name === "ë¬¸ì œì™€ ê³ ë¯¼" && i === 3) {
                        customContent.title = "ìˆ˜ë§ì€ ì•…ì„¸ì„œë¦¬, í•˜ì§€ë§Œ í™œìš©ì€...";
                        customContent.text = "ì‹œê³„, í‚¤ë§, ì„ ê¸€ë¼ìŠ¤ì™€ ê°™ì€ ì•…ì„¸ì„œë¦¬ë¥¼ ì„ ë¬¼ë°›ì•˜ë˜ ê²½ìš°ê°€ ë§ì•„ ë‹¤ì–‘í•˜ê²Œ ê°€ì§€ê³  ìˆì§€ë§Œ, ì•…ì„¸ì‚¬ë¦¬ë¥¼ ì°©ìš©í•´ë³¸ ê²½í—˜ì´ ë¶€ì¡±í•˜ì—¬ ì•…ì„¸ì‚¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ë‚˜ ìì‹ ì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆìŠµë‹ˆë‹¤. ";
                        customContent.image = "";
                    }

                    // ë¼ì´í”„ìŠ¤íƒ€ì¼
                    else if (region.name === "ë¼ì´í”„ìŠ¤íƒ€ì¼" && i === 0) {
                        customContent.title = "ì¶•êµ¬ ëŸ¬ë²„ âš½";
                        customContent.text = "ì¡°ê¸° ì¶•êµ¬ íŒ€ íšŒì›ìœ¼ë¡œ í™œë™í•  ì •ë„ë¡œ ì¶•êµ¬ë¥¼ ì¢‹ì•„í•˜ëŠ”ë§Œí¼ íŒ€ ìœ ë‹ˆí¼ì„ ë¹„ë¡¯í•œ ì¶•êµ¬ ê´€ë ¨ ì˜ë¥˜ë“¤ì´ ë§ê³ , ê²½ê¸°ë¥¼ í•˜ê±°ë‚˜ ë³´ëŸ¬ê°ˆ ë•Œ ì°©ìš©í•©ë‹ˆë‹¤.\ní•œ ë•ŒëŠ” ì„œí¬íŠ¸ í•˜ëŠ” íŒ€ì´ë‚˜ ì„ ìˆ˜ì˜ ìœ ë‹ˆí¼ì„ ì‹œì¦Œë³„ë¡œ ìˆ˜ì§‘ í–ˆì„ì •ë„ë¡œ ì½œë ‰íŒ…ì—ë„ ê´€ì‹¬ì´ ë§ì•˜ì§€ë§Œ ìœ ë‹ˆí¼ ê°€ê²©ì— ëŒ€í•œ ì¸í”Œë ˆì´ì…˜ìœ¼ë¡œ í˜„ì‹¤ì ì¸ ê²½ì œì  ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì¤‘ë‹¨í•œ ìƒíƒœì…ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_123734486.jpg";
                    }
                    else if (region.name === "ë¼ì´í”„ìŠ¤íƒ€ì¼" && i === 1) {
                        customContent.title = "ì „ìê³µí•™ë„ âš¡";
                        customContent.text = "ì „ê³µ íŠ¹ì„±ìƒ ì˜¤ë˜ ì•‰ì•„ìˆëŠ” ê²½ìš°ê°€ ë§ì•„ ì‹ ì¶•ì„±ì´ ì¢‹ê³ , í¸í•œ ì°©ìš©ê°ì˜ í•˜ì˜ì™€ ì‹ ë°œì„ ì„ í˜¸í•©ë‹ˆë‹¤.\nì‹¤ì œë¡œ í•œë‹¬ ë™ì•ˆ ì²­ë°”ì§€ë‚˜ ë©´ë°”ì§€ë¥¼ ì…ëŠ” íšŸìˆ˜ëŠ” ì†ì— ê¼½ì„ ì •ë„ë¡œ ì ìŠµë‹ˆë‹¤.\në˜í•œ ìš´ë™í™” ëŒ€ì‹  ë°œì´ í¸í•œ ìŠ¬ë¦¬í¼ë‚˜ í¬ë¡œìŠ¤ ì œí’ˆì„ ì• ìš©í•©ë‹ˆë‹¤.\nì´ëŠ” ë‹¤ë¥¸ ë¶ˆí¸í•œ ìš”ì†Œì— ì‹ ê²½ì„ ì“°ì§€ ì•Šê³  ì£¼ì–´ì§„ ê³¼ì—…ì„ ìµœëŒ€í•œ ë¹¨ë¦¬ ëë‚´ë ¤ê³ í•˜ëŠ” ë§ˆìŒê°€ì§ì—ì„œ ë¹„ë¡¯ë˜ì—ˆìŠµë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_215217318.jpg";
                    }
                    else if (region.name === "ë¼ì´í”„ìŠ¤íƒ€ì¼" && i === 2) {
                        customContent.title = "ë°ì´íŠ¸ ğŸ˜½";
                        customContent.text = "í•œë‹¬ì— 3~4íšŒ ì •ë„ ì´ì„±ì¹œêµ¬ì™€ ë°ì´íŠ¸ë¥¼ í•˜ëŠ”ë°, í¸í•œ ì˜· ë³´ë‹¤ëŠ” ì¥ì†Œë‚˜ ìƒí™©ì— ì í•©í•œ ì˜·ì„ ì°©ìš©í•˜ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤.\në˜í•œ ì´ë•Œ ë§Œí¼ì€ ë‚´ê°€ ì›í•˜ëŠ” ì˜·ì„ ì…ëŠ”ê²ƒì´ ì•„ë‹Œ, ì´ì„±ì¹œêµ¬ë„ ë§Œì¡±í•  ìˆ˜ ìˆëŠ” ì˜·ì„ ì°©ìš©í•˜ëŠ” ìœµí†µì„±ì„ ë°œíœ˜í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì´ ë•Œë¬¸ì¸ì§€ ë°ì´íŠ¸ í•˜ëŠ” ìˆœê°„ ë§Œí¼ì€ ìƒˆë¡œìš´ íŒ¨ì…˜ì— ëˆˆì„ ëœ¨ê²Œ ëœ ìƒˆë¡œìš´ ë‚˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_214708207.jpg";
                    }
                    else if (region.name === "ë¼ì´í”„ìŠ¤íƒ€ì¼" && i === 3) {
                        customContent.title = "ì—„ì²­ë‚œ ì•„ì¹¨ì ì˜ ì†Œìœ ì. ğŸ¥±";
                        customContent.text = "ì•„ì¹¨ì ì´ ìƒëŒ€ì ìœ¼ë¡œ ë§ì€ í¸ì´ê¸° ë•Œë¬¸ì— ì…ê³ ë‚˜ê°ˆ ì˜·ì„ ê³ ë¥¼ ì‹œê°„ì´ í•­ìƒ ë¶€ì¡±í•˜ê¸°ë•Œë¬¸ì— ì „ë‚  ë°¤ì— ë‹¤ìŒë‚  ì…ê³ ë‚˜ê°ˆ ì˜·ì„ ì¤€ë¹„í•´ë‘ê±°ë‚˜, ê³ ë¯¼ ì—†ì´ ë¹ ë¥´ê²Œ ì…ì„ ìˆ˜ ìˆëŠ” ë¬´ë‚œí•œ ì˜·ì„ ì„ í˜¸í•©ë‹ˆë‹¤.(ex:íŠ¸ë ˆì´ë‹ ì…‹, ë§¨íˆ¬ë§¨ ë“±)";
                        customContent.image = "";
                    }

                    // ì·¨í–¥
                    else if (region.name === "ì·¨í–¥" && i === 0) {
                        customContent.title = "ë””ìì¸: ê·¹ê³¼ ê·¹";
                        customContent.text = "ì˜·ì„ ê³ ë¥´ëŠ”ë° ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì œì™¸í•˜ê³  ì˜¤ë¡œì§€ ë””ìì¸ìœ¼ë¡œë§Œ ë´¤ì„ ë•Œ, ì•„ì˜ˆ í™• íŠ€ê±°ë‚˜ ì•„ì˜ˆ ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ë””ìì¸ì˜ ì˜·ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\nì´ëŠ” í‰ìƒì‹œì— ì°¨ë¶„í•˜ê³  ë‹¨ì •í•œ ì˜·ì„ ì…ëŠ” ê²½ìš°ê°€ ì••ë„ì ìœ¼ë¡œ ë§ê¸° ë•Œë¬¸ì— ìì£¼ ì ‘í•˜ì§€ ëª»í–ˆë˜ í™”ë ¤í•œ ë””ìì¸ì— ëŒ€í•œ ìš•êµ¬ê°€ ìƒê¸°ëŠ” ê²ƒì—ì„œ ë¹„ë¡¯ë˜ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.";
                        customContent.image = "";
                    }
                    else if (region.name === "ì·¨í–¥" && i === 1) {
                        customContent.title = "ìµœì•  ìºë¦­í„°: í¬ì¼“ëª¬ìŠ¤í„°";
                        customContent.text = "ì˜·ì— ìˆì–´ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê°€ì¹˜ ì¤‘ í•˜ë‚˜ì¸ ì¶”ì–µì„ ìê·¹í•˜ëŠ” í¬ì¼“ëª¬ìŠ¤í„°ê°€ ë””ìì¸ëœ ì˜·ì„ ì…ìœ¼ë©´ ë§ˆì¹˜ ê·¸ ì‹œì ˆë¡œ ëŒì•„ê°„ë“¯í•œ ëŠë‚Œì„ ë°›ëŠ”ê²ƒ ê°™ì•„ í¬ì¼“ëª¬ìŠ¤í„°ê°€ ê·¸ë ¤ì§„ ì˜·ì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì…ê³¤ í•©ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_130913835_03.jpg";
                    }
                    else if (region.name === "ì·¨í–¥" && i === 2) {
                        customContent.title = "ìƒ‰ìƒ: ì–´ë‘ìš´ í†¤";
                        customContent.text = "ì–´ë‘ìš´ í†¤ì„ ì…ì—ˆì„ ë•Œ ë‚˜ë„ ëª¨ë¥´ê²Œ ì°¨ë¶„í•´ì§€ëŠ” ê²ƒ ê°™ê³ , ë•ë¶„ì— ì§‘ì¤‘ë ¥ì´ í–¥ìƒë˜ëŠ” íš¨ê³¼ê¹Œì§€ ì–»ì„ ìˆ˜ ìˆì–´ ì˜·ì˜ ìƒ‰ìƒì„ í†µí•´ ì‹¤ì œ ì‚¶ì—ì„œì˜ ëŠ¥ë ¥ì— ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹œë‹¤ê³  ìƒê°í•˜ì—¬ ì–´ë‘ìš´ í†¤ì˜ ì˜·ì„ ì„ í˜¸í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.";
                        customContent.image = "";
                    }
                    else if (region.name === "ì·¨í–¥" && i === 3) {
                        customContent.title = "ë¸Œëœë“œ: ë²„ë²„ë¦¬";
                        customContent.text = "ì°¨ë¶„í•´ ë³´ì´ì§€ë§Œ ë²„ë²„ë¦¬ë§Œì˜ íŒ¨í„´ìœ¼ë¡œ ë…ì°½ì„± ë˜í•œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì˜·ë“¤ì„ í†µí•´, ê·¹ê³¼ ê·¹ì´ë¼ëŠ” ë‚˜ì˜ ì·¨í–¥ì„ ë™ì‹œì— í‘œí˜„í•  ìˆ˜ ìˆê¸°ì— ì í•©í•˜ë‹¤ê³  ìƒê°í•˜ì—¬ ë²„ë²„ë¦¬ë¼ëŠ” ë¸Œëœë“œë¥¼ ì„ í˜¸í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.";
                        customContent.image = "";
                    }

                    // íŒ¨ì…˜ ë¡¤ëª¨ë¸
                    else if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸" && i === 0) {
                        customContent.title = "ì§€ë“œë˜ê³¤";
                        customContent.text = "(í•œë•Œ 'ê³„ë€ë§ì´ ì´ˆë°¥ ë¨¸ë¦¬'ë¡œ ë¶ˆë¦° ì§€ë“œë˜ê³¤ì˜ ê³¼ê°í•œ í—¤ì–´ìŠ¤íƒ€ì¼.)\në§ì´ í•„ìš” ì—†ëŠ”, ìˆ˜ë§ì€ ë‚¨ì„±ë“¤ì˜ íŒ¨ì…˜ ë¦¬ë”ì¸ ì§€ë“œë˜ê³¤ì€ ë‹¨ìˆœíˆ ìœ í–‰ì„ ë”°ë¥´ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œ ìœ í–‰ì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„ì´ì½˜ì…ë‹ˆë‹¤. \níŠ¹íˆ, ê·¸ëŠ” í—¤ì–´ìŠ¤íƒ€ì¼ ë“± ëª¨ë“  ìŠ¤íƒ€ì¼ì— ìˆì–´ í•­ìƒ ê³¼ê°í•˜ê²Œ ë„ì „í•˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë§ì„¤ì´ëŠ” ì €ì—ê²Œ, ì§€ë“œë˜ê³¤ì€ ì œê²Œ ìš©ê¸°ë¥¼ ì£¼ëŠ” ë¡¤ëª¨ë¸ ì…ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/033bf4a5bc8e4f3ab14c6822c8eec969787badf7/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20152002.png";
                    }
                    else if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸" && i === 1) {
                        customContent.title = "ì¡°ìŠ¹ìš°";
                        customContent.text = "ë°°ìš° ì¡°ìŠ¹ìš°ëŠ” ê·¸ ëˆ„êµ¬ë³´ë‹¤ë„ ë³¸ì¸ë§Œì˜ ìŠ¤íƒ€ì¼ì´ í™•ê³ í•œ ì‚¬ëŒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. \nì–´ë¦° ì‹œì ˆë¶€í„° ë´ì˜¨ ê·¸ì˜ ìˆ˜ë§ì€ ì‚¬ë³µ ì°¨ë¦¼ê³¼ ì½”ë””ë„¤ì´ì…˜ì„ ë³¼ ë•Œë§ˆë‹¤, 'ë‚˜ì´ì— ë§ë‹¤'ê±°ë‚˜ 'ìƒí™©ì— ì í•©í•˜ë‹¤'ëŠ” ì¼ë°˜ì ì¸ í‰ê°€ë¥¼ ë„˜ì–´ 'ê·¸ëƒ¥ ì¡°ìŠ¹ìš° ê·¸ ìì²´ë‹¤' ë¼ëŠ” ëŠë‚Œì„ ë°›ì•˜ìŠµë‹ˆë‹¤. \nê·¸ëŠ” ìì‹ ì˜ í•ê³¼ ê°œì„±ì— ë§ëŠ” ì˜·ì„ ì •í™•í•˜ê²Œ ì„ íƒí•˜ê³  êµ¬í˜„í•˜ëŠ” íƒì›”í•œ ì•ˆëª©ì„ ì§€ë‹ˆê³  ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ í”ë“¤ë¦¼ ì—†ëŠ” ìŠ¤íƒ€ì¼ í™•ë¦½ì„±ê³¼ ê¹Šì€ ì•ˆëª©ì„ ë°°ìš°ê³  ì‹¶ê¸°ì—, ì¡°ìŠ¹ìš° ë°°ìš°ëŠ” ì €ì˜ í›Œë¥­í•œ ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/KakaoTalk_20251124_190352279.jpg";
                    }
                    else if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸" && i === 2) {
                        customContent.title = "ë„ê²½ìˆ˜";
                        customContent.text = "(ì¢Œ-ë„ê²½ìˆ˜, ìš°-ì¹´ì´(ê·¸ë£¹ ë‚´ ì¥ì‹  ë©¤ë²„)) \nEXO ë©¤ë²„ ë„ê²½ìˆ˜ëŠ” í° ì‹ ì¥ì€ ì•„ë‹ˆì§€ë§Œ, ì‚¬ë³µ íŒ¨ì…˜ì— ëŒ€í•´ ëŠ˜ ê¸ì •ì ì¸ í‰ê°€ë¥¼ ë°›ëŠ” ìŠ¤íƒ€ì…ë‹ˆë‹¤. íŠ¹íˆ, ì œê°€ ì„ í˜¸í•˜ëŠ” ë‹¨ì •í•˜ê³  ê¹”ë”í•œ ìŠ¤íƒ€ì¼ì˜ ì˜·ì„ ì‘ì€ ì‹ ì¥ì—ë„ ë¶ˆêµ¬í•˜ê³  í›Œë¥­í•˜ê²Œ ì†Œí™”í•´ëƒ…ë‹ˆë‹¤. ê·¸ë£¹ ë‚´ ë‹¤ë¥¸ ì¥ì‹  ë©¤ë²„ë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œë„ ì „í˜€ ê°€ë ¤ì§€ê±°ë‚˜ ë¬»íˆì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì—ì„œ, ì œê²Œ í›Œë¥­í•œ íŒ¨ì…˜ ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤.";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20152641.png";
                    }
                    else if (region.name === "íŒ¨ì…˜ ë¡¤ëª¨ë¸" && i === 3) {
                        customContent.title = "í¬ë¦¬ìŠ¤í‹°ì•„ëˆ„ í˜¸ë‚ ë‘";
                        customContent.text = "ì¶•êµ¬ì„ ìˆ˜ í¬ë¦¬ìŠ¤í‹°ì•„ëˆ„ í˜¸ë‚ ë‘ëŠ” ë•Œë•Œë¡œ 'íŒ¨ì…˜ í…ŒëŸ¬ë¦¬ìŠ¤íŠ¸'ë¡œ ë¶ˆë¦¬ê¸°ë„ í•©ë‹ˆë‹¤. ì´ëŠ” ë¶ˆìš°í–ˆë˜ ì–´ë¦° ì‹œì ˆì˜ ì½¤í”Œë ‰ìŠ¤ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ëª…í’ˆìœ¼ë¡œ ìì‹ ì„ ì¹˜ì¥í•˜ëŠ” ê²ƒì—ì„œ ë¹„ë¡¯ë˜ì—ˆë‹¤ëŠ” ë¶„ì„ì´ ë§ìŠµë‹ˆë‹¤. \nê²€ì†Œí•¨ì„ ê¸ì •ì ìœ¼ë¡œ í‰ê°€í•˜ëŠ” ëŒ€ì¤‘ì˜ ë¹„ë‚œì—ë„ ë¶ˆêµ¬í•˜ê³ , í˜¸ë‚ ë‘ëŠ” ì–¸ì œë‚˜ ìì‹ ë§Œì˜ ì² í•™ê³¼ ë§ˆì¸ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜·ì„ ì…ëŠ” ê°•í•œ ìì‹ ê°ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ìì‹ ê°ê³¼ íƒœë„ ë•Œë¬¸ì— ì œê²Œ íŒ¨ì…˜ì— ëŒ€í•œ ë§ˆìŒê°€ì§, ì¸ìƒì— ìˆì–´ì„œë„ ê°€ë¥´ì¹¨ì„ ì£¼ëŠ” ë¡¤ëª¨ë¸ì…ë‹ˆë‹¤. ";
                        customContent.image = "https://raw.githubusercontent.com/InmoYang-47/fashion/refs/heads/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-11-24%20150200.png";
                    }

                    // data ì—°ê²°
                    marker.userData = {
                        isMarker: true,
                        regionName: region.name,
                        index: i + 1,
                        content: customContent
                    };

                    sphereGroup.add(marker);
                    markers.push(marker);

                    // Ring (ì›ë³¸ ìœ ì§€)
                    const ringGeometry = new THREE.RingGeometry(0.5, 0.6, 32);
                    const ringMaterial = new THREE.MeshBasicMaterial({ color: markerColor, side: THREE.DoubleSide, transparent: true, opacity: 0.6 });
                    const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                    ring.lookAt(marker.position.clone().multiplyScalar(2));
                    ring.position.copy(marker.position);
                    sphereGroup.add(ring);

                    // Particle system (ì›ë³¸ ìœ ì§€, í¼í¬ë¨¼ìŠ¤ ì†Œí­ ê°œì„ ìœ¼ë¡œ PARTICLE_COUNT ë‚®ì¶¤)
                    const particleGeometry = new THREE.BufferGeometry();
                    const positions = [];
                    const colors = [];
                    const particleColor = new THREE.Color(markerColor);
                    for (let p = 0; p < PARTICLE_COUNT; p++) {
                        const px = x + (Math.random() - 0.5) * 1.0;
                        const py = y + (Math.random() - 0.5) * 1.0;
                        const pz = z + (Math.random() - 0.5) * 1.0;
                        positions.push(px, py, pz);
                        colors.push(particleColor.r, particleColor.g, particleColor.b);
                    }
                    particleGeometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
                    particleGeometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));
                    const particleMaterial = new THREE.PointsMaterial({
                        size: 0.15,
                        vertexColors: true,
                        transparent: true,
                        opacity: 0.8,
                        blending: THREE.AdditiveBlending
                    });
                    const particleSystem = new THREE.Points(particleGeometry, particleMaterial);
                    sphereGroup.add(particleSystem);
                    particleSystems.push(particleSystem);

                    // ------------------------
                    // ë¼ë²¨ ìƒì„± ë° ë°°ì¹˜ (ìš”ì²­ì‚¬í•­ 2)
                    // - ë§ˆì»¤ ë°”ë¡œ ìœ„(normal directionìœ¼ë¡œ ì•½ê°„ ë–¨ì–´ëœ¨ë ¤ ë°°ì¹˜)
                    // - ìŠ¤í”„ë¼ì´íŠ¸ëŠ” í•­ìƒ ì¹´ë©”ë¼ë¥¼ í–¥í•¨(THREE.Sprite ê¸°ë³¸)
                    // ------------------------
                    // ë¼ë²¨ í…ìŠ¤íŠ¸ë¡œ 'title' ë˜ëŠ” ì£¼ìš” í‚¤ì›Œë“œ ì‚¬ìš©
                    const labelText = customContent.title || region.name;
                    const labelSprite = createLabelSprite(labelText, region.hex);
                    // ì•½ê°„ ë°”ê¹¥ìª½ìœ¼ë¡œ ë„ìš°ê¸° (ë§ˆì»¤ì—ì„œ 1.12ë°°)
                    const labelPos = marker.position.clone().multiplyScalar(1.12);
                    labelSprite.position.copy(labelPos);
                    // depthTest ë„ë©´ í•­ìƒ ì•ì— ë³´ì´ë¯€ë¡œ depthTest=falseë¡œ ë‘ë©´ ê°€ë…ì„± í–¥ìƒí•˜ì§€ë§Œ, ì›ì¹˜ ì•Šìœ¼ë©´ trueë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ
                    labelSprite.material.depthTest = false;
                    scene.add(labelSprite);
                    labelSprites.push(labelSprite);
                }
            });

            scene.add(sphereGroup);

            // ë²”ë¡€ ìƒì„± (ì›ë³¸ ìœ ì§€í•˜ë˜ ì‚¬ì´ì¦ˆëŠ” CSSë¡œ í‚¤ì›€)
            const legendList = document.getElementById('legend-list');
            regions.forEach(region => {
                const listItem = document.createElement('li');
                listItem.className = 'flex items-center';
                listItem.innerHTML = `
                    <span class="color-dot" style="background-color: ${region.hex};"></span>
                    <span class="font-medium">${region.name}</span>
                `;
                legendList.appendChild(listItem);
            });

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            window.addEventListener('resize', onWindowResize, false);
            renderer.domElement.addEventListener('click', onClick, false);

            animate();
        }

        // ---------------------------
        // ì• ë‹ˆë©”ì´ì…˜ ë£¨í”„: ë¼ë²¨ í¬ê¸° ì¡°ì •(ê±°ë¦¬ ë³´ì •) ë° ë Œë”
        // ---------------------------
        function animate() {
            requestAnimationFrame(animate);
            controls.update();

            // PERF: ë¼ë²¨ ìŠ¤ì¼€ì¼ì€ ì¹´ë©”ë¼ì™€ì˜ ê±°ë¦¬ë¡œ ë³´ì •í•˜ì—¬ ì–¸ì œë‚˜ ì½ê¸° ì‰¬ìš´ í¬ê¸°ë¡œ ìœ ì§€
            // ì „ì²´ì ìœ¼ë¡œ ë¹„ìŠ·í•œ ê°€ë…ì„±ì„ ì£¼ë„ë¡ ì„¤ì •.
            const cameraPos = camera.position;
            for (let s of labelSprites) {
                const dist = cameraPos.distanceTo(s.position);
                // baseScaleë¥¼ ê°€ì ¸ì™€ ê±°ë¦¬ì— ë”°ë¥¸ ë³´ì •
                const base = s.userData.baseScale;
                // ì´ ê°’ë“¤ì€ íŠœë‹ ê°€ëŠ¥: ë„ˆë¬´ í¬ë©´ ì¤„ì´ê³ , ì‘ìœ¼ë©´ ëŠ˜ë¦¬ê¸°
                const distanceFactor = dist / 30; // camera ê±°ë¦¬ê°€ ë©€ìˆ˜ë¡ ë¼ë²¨ í‚¤ì›€
                const scaleX = base.x * distanceFactor;
                const scaleY = base.y * distanceFactor;
                // ìµœì†Œ/ìµœëŒ€ clampë¡œ ê³¼ë„í•œ ìŠ¤ì¼€ì¼ ë°©ì§€
                const min = 0.4;
                const max = 6.0;
                s.scale.set(
                    Math.max(min, Math.min(max, scaleX)),
                    Math.max(min, Math.min(max, scaleY)),
                    1
                );
                // í•­ìƒ ì¹´ë©”ë¼ë¥¼ ë°”ë¼ë³´ëŠ” ê±´ Spriteê°€ ìë™ìœ¼ë¡œ í•´ì¤Œ
            }

            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // ---------------------------
        // í´ë¦­ ì´ë²¤íŠ¸(ì›ë³¸ ìœ ì§€)
        // ---------------------------
        function onClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(markers);

            if (intersects.length > 0) {
                const marker = intersects[0].object;
                if (marker.userData.isMarker) {
                    showModal(marker.userData);
                }
            }
        }

        // ---------------------------
        // ëª¨ë‹¬ í‘œì‹œ ë¡œì§ (ì›ë³¸ ìœ ì§€)
        // ---------------------------
        const modal = document.getElementById('content-modal');
        const modalContentBox = document.getElementById('modal-content-box');
        const modalTitle = document.getElementById('modal-title');
        const modalRegion = document.getElementById('modal-region');
        const modalText = document.getElementById('modal-text');
        const modalImage = document.getElementById('modal-image');
        const closeModalButton = document.getElementById('close-modal');

        function showModal(data) {
            modalTitle.textContent = data.content.title;
            modalRegion.textContent = '';
            modalText.textContent = data.content.text || '';
            if (data.content.image) {
                modalImage.src = data.content.image;
                modalImage.alt = `${data.regionName} ê´€ë ¨ ì´ë¯¸ì§€`;
                modalImage.classList.remove('hidden');
            } else {
                modalImage.src = '';
                modalImage.classList.add('hidden');
            }
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => {
                modalContentBox.classList.remove('scale-95', 'opacity-0');
                modalContentBox.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function hideModal() {
            modalContentBox.classList.remove('scale-100', 'opacity-100');
            modalContentBox.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }, 300);
        }

        closeModalButton.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) hideModal();
        });

        // ---------------------------
        // ìœ í‹¸: ìº”ë²„ìŠ¤ í…ìŠ¤ì²˜ ì—…ë°ì´íŠ¸(ì´ë¯¸ ì‚¬ìš©ë¨)
        // ---------------------------
        // í˜ì´ì§€ ë¡œë“œ í›„ ì´ˆê¸°í™”
        window.onload = init;
    </script>
</body>
</html>
